/*! For license information please see 3ae78002d05d100ea57d5ee29ec63b89.028facf2b40378ee597c.js.LICENSE.txt */
(self.webpackChunkvk=self.webpackChunkvk||[]).push([[70306],{74351:(e,t,a)=>{"use strict";function i(e,t){return new Promise((function(a){setTimeout(a.bind(null,t),1e3*e)}))}a.d(t,{pause:()=>i})},88822:(e,t,a)=>{"use strict";a.d(t,{decodeHTMLEntities:()=>n,escape:()=>r});var i=[["&amp;","&"],["&lt;","<"],["&gt;",">"],["&quot;",'"']];function r(e){return i.reduce((function(e,t){var a=t[0],i=t[1];return e.replace(new RegExp(i,"ig"),a)}),e)}function n(e){return i.reduce((function(e,t){var a=t[0],i=t[1];return e.replace(new RegExp(a,"ig"),i)}),e).replace(/&#(\d+);/g,(function(e,t){return String.fromCodePoint(t)}))}},71831:(e,t,a)=>{"use strict";function i(e){return e>0&&e<2e9}function r(e){return e>2e9}a.d(t,{isChatPeer:()=>r,isUserPeer:()=>i})},24600:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});const i=(0,a(63192).makeIcon)("Icon20ArticleBoxOutline","article_box_outline_20","0 0 20 20",'<symbol viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="article_box_outline_20"><g fill-rule="nonzero" fill="none"><path opacity=".527" d="M0 0h20v20H0z" /><path d="M6.916 2h6.168c1.434 0 2.132.135 2.857.523.66.353 1.183.876 1.536 1.536.388.725.523 1.423.523 2.857v6.168c0 1.434-.135 2.132-.523 2.857a3.703 3.703 0 0 1-1.536 1.536c-.725.388-1.423.523-2.857.523H6.916c-1.434 0-2.132-.135-2.857-.523a3.703 3.703 0 0 1-1.536-1.536C2.135 15.216 2 14.518 2 13.084V6.916c0-1.434.135-2.132.523-2.857a3.703 3.703 0 0 1 1.536-1.536C4.784 2.135 5.482 2 6.916 2Zm0 1.5c-1.207 0-1.671.09-2.15.345a2.203 2.203 0 0 0-.92.921c-.256.479-.346.943-.346 2.15v6.168c0 1.207.09 1.671.345 2.15.214.399.522.707.921.92.479.256.943.346 2.15.346h6.168c1.207 0 1.671-.09 2.15-.345.399-.214.707-.522.92-.921.256-.479.346-.943.346-2.15V6.916c0-1.207-.09-1.671-.345-2.15a2.203 2.203 0 0 0-.921-.92c-.479-.256-.943-.346-2.15-.346H6.916ZM6.75 6h6.5a.75.75 0 1 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5Zm0 3.25h6.5a.75.75 0 1 1 0 1.5h-6.5a.75.75 0 1 1 0-1.5Zm0 3.25h4.5a.75.75 0 1 1 0 1.5h-4.5a.75.75 0 1 1 0-1.5Z" fill="currentColor" /></g></symbol>',20,20,!1,void 0)},99990:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});const i=(0,a(63192).makeIcon)("Icon20Chain","chain_20","0 0 20 20",'<symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="chain_20"><g fill="currentColor"><path d="M12.517 4.176a2.357 2.357 0 0 1 3.303 0 2.273 2.273 0 0 1 0 3.242l-.687.679a.75.75 0 0 0 1.055 1.066l.687-.678a3.772 3.772 0 0 0 0-5.376 3.857 3.857 0 0 0-5.413 0L8.125 6.408a3.772 3.772 0 0 0 0 5.375.75.75 0 1 0 1.055-1.066 2.272 2.272 0 0 1 0-3.242z" /><path d="M7.483 15.824c-.91.901-2.392.901-3.303 0a2.272 2.272 0 0 1 0-3.242l.687-.679a.75.75 0 0 0-1.055-1.066l-.687.678a3.772 3.772 0 0 0 0 5.376 3.857 3.857 0 0 0 5.413 0l3.337-3.299a3.772 3.772 0 0 0 0-5.375.75.75 0 0 0-1.055 1.066 2.272 2.272 0 0 1 0 3.242z" /></g></symbol>',20,20,!1,void 0)},39446:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});const i=(0,a(63192).makeIcon)("Icon20DeleteOutline","delete_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="delete_outline_20"><path fill-rule="evenodd" d="M6.837 4H2.75a.75.75 0 0 0 0 1.5h.545l.907 9.248c.051.523.094.96.157 1.314.066.37.163.711.353 1.028a2.9 2.9 0 0 0 1.247 1.131c.334.158.682.222 1.058.25.36.029.797.029 1.323.029h3.32c.526 0 .964 0 1.323-.028.376-.03.724-.093 1.058-.25a2.9 2.9 0 0 0 1.247-1.132c.19-.317.287-.657.353-1.028.063-.355.106-.79.157-1.314l.907-9.248h.545a.75.75 0 0 0 0-1.5h-4.087a3.25 3.25 0 0 0-6.326 0Zm1.581 0h3.164a1.751 1.751 0 0 0-3.164 0Zm6.78 1.5H4.802l.89 9.072c.054.56.091.938.143 1.228.05.281.104.422.162.52a1.4 1.4 0 0 0 .603.546c.102.048.248.088.533.11.294.024.673.024 1.235.024h3.262c.562 0 .941 0 1.235-.023.285-.023.43-.063.533-.111a1.4 1.4 0 0 0 .603-.547c.058-.097.112-.238.162-.52.052-.29.09-.667.144-1.226l.89-9.073Zm-2.886 2.002a.75.75 0 0 1 .685.81l-.5 6.003a.75.75 0 0 1-1.494-.124l.5-6.003a.75.75 0 0 1 .81-.686Zm-4.624 0a.75.75 0 0 1 .81.686l.5 6.002a.75.75 0 0 1-1.495.125l-.5-6.003a.75.75 0 0 1 .685-.81Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},67458:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});const i=(0,a(63192).makeIcon)("Icon20MessageOutline","message_outline_20","0 0 20 20",'<symbol viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="message_outline_20"><g fill="none" fill-rule="evenodd"><path opacity=".4" d="M0 0h20v20H0z" /><path d="M6.828 15.752a.75.75 0 0 1 .821-.207A7.52 7.52 0 0 0 10.25 16c3.772 0 6.75-2.694 6.75-6s-2.978-6-6.75-6S3.5 6.694 3.5 10c0 1.21.4 2.367 1.14 3.349a.75.75 0 0 1 .15.49c-.04.756-.403 1.785-1.085 3.135 1.483-.116 2.514-.534 3.123-1.222ZM3.242 18.5a1.204 1.204 0 0 1-1.101-1.767c.644-1.216 1.016-2.14 1.121-2.73A7.009 7.009 0 0 1 2 10c0-4.17 3.681-7.5 8.25-7.5S18.5 5.83 18.5 10s-3.681 7.5-8.25 7.5a9.077 9.077 0 0 1-2.66-.393c-.996.881-2.456 1.336-4.348 1.393Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',20,20,!1,void 0)},6057:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});const i=(0,a(63192).makeIcon)("Icon20PhoneOutline","phone_outline_20","0 0 20 20",'<symbol viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="phone_outline_20"><g fill="none" fill-rule="evenodd"><path opacity=".1" d="M0 0h20v20H0z" /><path d="m7.78 2.7.7.833c1.373 1.628 1.229 4.054-.299 5.582l-.297.296c.226.38.633.878 1.23 1.475.53.53.984.912 1.344 1.149l.13.082.298-.297c1.526-1.527 3.95-1.672 5.58-.302l.833.702c1.46 1.229 1.602 3.419.346 4.894a3.859 3.859 0 0 1-2.29 1.289l-.506.06c-3.005.292-6.037-1.16-9.094-4.217-3.056-3.056-4.51-6.09-4.226-9.025l.06-.515a3.834 3.834 0 0 1 1.3-2.354l.168-.135c1.462-1.107 3.54-.924 4.723.484Zm-3.911.788c-.321.276-.562.633-.698 1.033a2.37 2.37 0 0 0-.115.552c-.343 2.548.898 5.25 3.76 8.112 2.86 2.862 5.562 4.103 8.123 3.758a2.376 2.376 0 0 0 1.571-.81c.719-.844.636-2.082-.177-2.766l-.833-.701-.142-.112c-1.02-.739-2.471-.614-3.411.326l-.597.598-.088.076a.903.903 0 0 1-.862.133c-.648-.238-1.425-.818-2.346-1.74-.923-.923-1.503-1.7-1.74-2.347a.903.903 0 0 1 .209-.95l.598-.597.129-.137c.862-.987.906-2.44.084-3.416l-.702-.834-.112-.122c-.7-.697-1.853-.735-2.651-.056Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',20,20,!1,void 0)},93047:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});const i=(0,a(63192).makeIcon)("Icon20WriteOutline","write_outline_20","0 0 20 20",'<symbol viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" id="write_outline_20"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.076 2.649A2.215 2.215 0 0 1 14.645 2c.566 0 1.135.216 1.568.649l1.137 1.136a2.21 2.21 0 0 1 0 3.133l-.941.94-9.17 9.179a3.296 3.296 0 0 1-2.33.963H3a1 1 0 0 1-1-1v-1.893a3.288 3.288 0 0 1 .965-2.34l8.123-8.132 1.988-1.986zm2.286 4.135.927-.926a.711.711 0 0 0 0-1.013l-1.137-1.136a.713.713 0 0 0-.507-.21.713.713 0 0 0-.507.21l-.927.926 2.15 2.149zM12.135 5.71l-8.109 8.118a1.79 1.79 0 0 0-.525 1.266V16.2a.3.3 0 0 0 .3.3H4.91c.475 0 .931-.189 1.267-.525l8.11-8.118-2.152-2.148z" fill="currentColor" /></symbol>',20,20,!1,void 0)},81536:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});const i=(0,a(63192).makeIcon)("Icon24MoreHorizontal","more_horizontal_24","0 0 24 24",'<symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="more_horizontal_24"><g fill="none" fill-rule="evenodd"><path d="M24 0H0v24h24z" /><path d="M18 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2Zm-6 4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2Zm-6 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2Z" fill="currentColor" /></g></symbol>',24,24,!1,void 0)},83925:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});const i=(0,a(63192).makeIcon)("Icon28ChevronRightOutline","chevron_right_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="chevron_right_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="m11 7.5 6.5 6.5-6.5 6.5" stroke="#8BC1FF" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" /><path d="m16.086 14-5.793 5.793a1 1 0 0 0 1.414 1.414l6.5-6.5a1 1 0 0 0 0-1.414l-6.5-6.5a1 1 0 0 0-1.414 1.414L16.086 14Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},8679:(e,t,a)=>{"use strict";var i=a(21296),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function o(e){return i.isMemo(e)?s:l[e.$$typeof]||r}l[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[i.Memo]=s;var u=Object.defineProperty,d=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,_=Object.prototype;e.exports=function e(t,a,i){if("string"!=typeof a){if(_){var r=p(a);r&&r!==_&&e(t,r,i)}var s=d(a);c&&(s=s.concat(c(a)));for(var l=o(t),m=o(a),h=0;h<s.length;++h){var v=s[h];if(!(n[v]||i&&i[v]||m&&m[v]||l&&l[v])){var g=f(a,v);try{u(t,v,g)}catch(e){}}}}return t}},96103:(e,t)=>{"use strict";var a="function"==typeof Symbol&&Symbol.for,i=a?Symbol.for("react.element"):60103,r=a?Symbol.for("react.portal"):60106,n=a?Symbol.for("react.fragment"):60107,s=a?Symbol.for("react.strict_mode"):60108,l=a?Symbol.for("react.profiler"):60114,o=a?Symbol.for("react.provider"):60109,u=a?Symbol.for("react.context"):60110,d=a?Symbol.for("react.async_mode"):60111,c=a?Symbol.for("react.concurrent_mode"):60111,f=a?Symbol.for("react.forward_ref"):60112,p=a?Symbol.for("react.suspense"):60113,_=a?Symbol.for("react.suspense_list"):60120,m=a?Symbol.for("react.memo"):60115,h=a?Symbol.for("react.lazy"):60116,v=a?Symbol.for("react.block"):60121,g=a?Symbol.for("react.fundamental"):60117,C=a?Symbol.for("react.responder"):60118,b=a?Symbol.for("react.scope"):60119;function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case c:case n:case l:case s:case p:return e;default:switch(e=e&&e.$$typeof){case u:case f:case h:case m:case o:return e;default:return t}}case r:return t}}}function A(e){return y(e)===c}t.AsyncMode=d,t.ConcurrentMode=c,t.ContextConsumer=u,t.ContextProvider=o,t.Element=i,t.ForwardRef=f,t.Fragment=n,t.Lazy=h,t.Memo=m,t.Portal=r,t.Profiler=l,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return A(e)||y(e)===d},t.isConcurrentMode=A,t.isContextConsumer=function(e){return y(e)===u},t.isContextProvider=function(e){return y(e)===o},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return y(e)===f},t.isFragment=function(e){return y(e)===n},t.isLazy=function(e){return y(e)===h},t.isMemo=function(e){return y(e)===m},t.isPortal=function(e){return y(e)===r},t.isProfiler=function(e){return y(e)===l},t.isStrictMode=function(e){return y(e)===s},t.isSuspense=function(e){return y(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===n||e===c||e===l||e===s||e===p||e===_||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===m||e.$$typeof===o||e.$$typeof===u||e.$$typeof===f||e.$$typeof===g||e.$$typeof===C||e.$$typeof===b||e.$$typeof===v)},t.typeOf=y},21296:(e,t,a)=>{"use strict";e.exports=a(96103)},41143:e=>{"use strict";e.exports=function(e,t,a,i,r,n,s,l){if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[a,i,r,n,s,l],d=0;(o=new Error(t.replace(/%s/g,(function(){return u[d++]})))).name="Invariant Violation"}throw o.framesToPop=1,o}}},67121:(e,t,a)=>{"use strict";a.d(t,{default:()=>i}),e=a.hmd(e);const i=function(e){var t,a=e.Symbol;return"function"==typeof a?a.observable?t=a.observable:(t=a("observable"),a.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==a.g?a.g:e)},63197:(e,t,a)=>{"use strict";a.d(t,{SCHEDULED_CALLS_PAGE_COUNT:()=>i,SCHEDULED_CALLS_NEXT_PAGE_COUNT:()=>r,initialStateScheduledCalls:()=>n,callSounds:()=>s});var i=3,r=10,n={profiles:{},me:window.vk&&window.vk.id},s={end:"/mp3/call_end.mp3",incoming:"/mp3/call_incoming.mp3",outgoing:"/mp3/call_outgoing.mp3",connected:"/mp3/call_connected.mp3",connecting:"/mp3/call_connecting.mp3"}},83510:(e,t,a)=>{"use strict";a.d(t,{decode:()=>s,langUtils:()=>l});a(70655);var i=a(86067),r=a(88822),n=a(41650),s=function(e){return(0,r.escape)((0,r.decodeHTMLEntities)(e))},l={getLang:n.getLang,langSex:function(e,t,a){return(0,i.langSex)(e,a)},langNumeric:function(e,t,a,r){return(0,i.langNumeric)(e,a,r)},langShortDateTime:function(e){return(0,i.langDate)(e,(0,n.getLang)("global_short_date_time",!0),0,(0,n.getLang)("months_of"),!0)},langShortDate:function(e,t){return void 0===t&&(t=!0),(0,i.langDate)(e,(0,n.getLang)("global_short_date",!0),0,(0,n.getLang)("months_sm_of"),t)}}},50611:(e,t,a)=>{"use strict";a.d(t,{dispatchSetHistoryCalls:()=>o,dispatchDeleteCall:()=>u,dispatchSetCurrentCalls:()=>d,dispatchSetError:()=>c,dispatchSetShowCreateButton:()=>f,dispatchSetLoading:()=>p,updateProfilesAndUrls:()=>_,loadCurrentCalls:()=>m,loadHistoryCalls:()=>h,mapProfiles:()=>v,loadProfiles:()=>g,changeQuery:()=>C});var i=a(70655),r=a(71618),n=a(93385),s=a(95098),l=a(87080),o=function(e){return{type:l.HistoryScreenActionTypes.SET_HISTORY_CALLS,data:e}},u=function(e){return{type:l.HistoryScreenActionTypes.DELETE_CALL,data:e}},d=function(e){return{type:l.HistoryScreenActionTypes.SET_CURRENT_CALLS,data:e}},c=function(e){return{type:l.HistoryScreenActionTypes.ERROR,data:e}},f=function(e){return{type:l.HistoryScreenActionTypes.SET_SHOW_CREATE_BUTTON,data:e}},p=function(e){return{type:l.HistoryScreenActionTypes.SET_LOADING,data:e}};function _(e,t){var a,r,n,o,u,d,c=[],f=[];try{for(var p=(0,i.__values)(t),_=p.next();!_.done;_=p.next()){var m=_.value;(null==m?void 0:m.profiles)&&(null===(n=m.profiles)||void 0===n?void 0:n.length)>0&&(c=(0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__read)(c),!1),(0,i.__read)(m.profiles),!1)),"anonyms"in m&&(null==m?void 0:m.anonyms)&&(null===(o=m.anonyms)||void 0===o?void 0:o.length)>0&&(c=(0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__read)(c),!1),(0,i.__read)(m.anonyms),!1)),(null==m?void 0:m.groups)&&(null===(u=m.groups)||void 0===u?void 0:u.length)>0&&(c=(0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__read)(c),!1),(0,i.__read)(m.groups),!1)),(null==m?void 0:m.items)&&(null===(d=m.items)||void 0===d?void 0:d.length)>0&&(f=(0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__read)(f),!1),(0,i.__read)(m.items),!1))}}catch(e){a={error:e}}finally{try{_&&!_.done&&(r=p.return)&&r.call(p)}finally{if(a)throw a.error}}return c.length&&g(e,c),f.length&&function(e,t){var a=t.reduce((function(e,t){var a=0;a="type"in t?(0,s.getHistoryCallPeerId)(t):(0,s.getCurrentCallPeerId)(t);var i=String(a);return i in e||(null==t?void 0:t.join_link)&&(e[i]=null==t?void 0:t.join_link),e}),{});e({type:l.HistoryScreenActionTypes.SET_URLS,data:a})}(e,f),Promise.resolve(f.length>0)}function m(e){return(0,r.getCurrentCalls)().then((function(t){var a,i=null!==(a=null==t?void 0:t.items)&&void 0!==a?a:[];return i instanceof Array&&e(d(i)),t}))}function h(e,t,a,n,s,l,u){return void 0===t&&(t=5),void 0===a&&(a=0),void 0===n&&(n=0),void 0===s&&(s="all"),void 0===l&&(l=[]),void 0===u&&(u=!1),(0,r.getCallsHistory)(t,a,n,s).then((function(t){var a,r=null!==(a=null==t?void 0:t.items)&&void 0!==a?a:[],n=r.length>0||u,s=[];return r.length>0&&(s=(0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__read)(l),!1),(0,i.__read)(r),!1)),n&&e(o(s)),t}))}function v(e){return e.reduce((function(e,t){var a=String(t.id);if(!(a in e)){var i=(0,n.normalizeUser)(t);"group"===t.type||"page"===t.type?e["-"+a]=i:e[a]=i}return e}),{})}function g(e,t){var a,i=v(t);e((a=i,{type:l.HistoryScreenActionTypes.SET_PROFILES,data:a}))}function C(e){window.nav.setLoc(window.nav.fromStr(e))}},49336:(e,t,a)=>{"use strict";a.d(t,{BaseModal:()=>d});var i,r=a(70655),n=a(85893),s=a(67294),l=a(73935),o=a(33024),u=a(59397);!function(e){e.Base="CallsBaseModal",e.Backdrop="CallsBaseModal__backdrop",e.Content="CallsBaseModal__content",e.Cross="CallsModalHeader__cross"}(i||(i={}));var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getScrollbarWidth=function(){var e=document.createElement("div");e.classList.add(t._scrollbarMeasureClass),document.body.appendChild(e);var a=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),a},t.hideScrollBar=function(){var e=document.body.getBoundingClientRect(),a=e.left+e.right<window.innerWidth,i=t.getScrollbarWidth();t.calculatedPadding=window.getComputedStyle(document.body).paddingRight,a&&(document.body.style.paddingRight=parseFloat(t.calculatedPadding)+i+"px"),document.body.classList.add(t._bodyHiddenOverflowClass)},t.showScrollBar=function(){document.body.style.paddingRight=t.calculatedPadding,document.body.classList.remove(t._bodyHiddenOverflowClass)},t.onDocumentKeyDown=function(e){var a=t.props.onClose;"Escape"===e.key&&a()},t.checkPreventCloseClasses=function(e){return!!t.props.preventCloseClasses&&t.props.preventCloseClasses.some((function(t){var a,i;return null===(i=null===(a=e.target)||void 0===a?void 0:a.closest)||void 0===i?void 0:i.call(a,"."+t)}))},t.onBackdropClick=function(e){var a=t.props,r=a.onClose,n=a.onBackdropClick;a.disableBackdropClick||e.target instanceof Element&&(e.target.closest("."+i.Content)||t.checkPreventCloseClasses(e))||(n?n():r())},t}return(0,r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.disableEscapeClose,a=e.disableBodyScroll;t||document.body.addEventListener("keydown",this.onDocumentKeyDown),a&&(this._scrollbarMeasureClass=(0,n.jsx)("div",{className:i.Base+"__scrollbarMeasure"},void 0).props.className,this._bodyHiddenOverflowClass=(0,n.jsx)("div",{className:i.Base+"__bodyHiddenOverflow"},void 0).props.className,this.hideScrollBar())},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.disableEscapeClose,a=e.disableBodyScroll;t||document.body.removeEventListener("keydown",this.onDocumentKeyDown),a&&this.showScrollBar()},t.prototype.renderModal=function(){var e=this.props,t=e.className,a=e.enableCrossButton,s=e.onClose,l=(0,u.classNames)(i.Base,t);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:i.Backdrop},void 0),(0,n.jsx)("div",(0,r.__assign)({className:l,"aria-modal":"true",onClick:this.onBackdropClick},{children:(0,n.jsxs)("div",(0,r.__assign)({className:i.Content},{children:[a&&(0,n.jsxs)("button",(0,r.__assign)({className:i.Cross,type:"button",onClick:s},{children:[(0,n.jsx)(o.default,{width:22,height:22},void 0),"Закрыть"]}),void 0),this.props.children]}),void 0)}),void 0)]},void 0)},t.prototype.render=function(){return l.createPortal(this.renderModal(),document.body)},t}(s.Component)},80905:(e,t,a)=>{"use strict";a.d(t,{CallChip:()=>l});var i=a(70655),r=a(85893),n=a(67294),s=a(59397),l=(0,n.memo)((function(e){var t=e.value,a=e.onClick,n=e.selected,l=e.children;return(0,r.jsx)("div",(0,i.__assign)({className:(0,s.classNames)("CallChip",{"CallChip--selected":!!n}),onClick:function(){return a(t)}},{children:l}),void 0)}));l.displayName="CallChip"},3065:(e,t,a)=>{"use strict";a.d(t,{CallPhoto:()=>p});var i=a(85893),r=a(67294),n=a(6042),s=a(59397),l=a(73674),o=a(70655),u=function(e){var t=(0,o.__rest)(e,[]);return(0,i.jsx)("svg",(0,o.__assign)({width:"10",height:"10",viewBox:"0 0 10 10",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t,{children:(0,i.jsx)("path",{d:"M6.80486 3.06621L9.19457 3.30079C10.0261 3.38241 10.2811 4.21346 9.63901 4.75944L7.76813 6.35033L8.46267 8.94201C8.69075 9.79313 7.98312 10.3084 7.27435 9.79614L5.0011 8.15325L2.72785 9.79614C2.02194 10.3063 1.31141 9.79324 1.53953 8.94201L2.23406 6.35033L0.363183 4.75944C-0.281598 4.21116 -0.0275869 3.38278 0.807493 3.30079L3.19677 3.06621L4.24943 0.583062C4.57908 -0.194562 5.42332 -0.194173 5.75269 0.583142L6.80486 3.06621Z"},void 0)}),void 0)},d=function(e){var t=e.className,a=e.type;return(0,i.jsx)("div",(0,o.__assign)({className:(0,s.classNames)("UserBadge","UserBadge--"+a,t)},{children:(0,i.jsx)(u,{},void 0)}),void 0)},c=a(10930),f=a(15464),p=function(e){var t,a,o=e.id,u=e.waves,p=void 0!==u&&u,_=e.size,m=e.photo,h=void 0===m?"":m,v=e.alt,g=e.letter,C=e.showCreatorBadge,b=e.showAdminBadge,y=e.className,A=(0,r.useContext)(c.ConfigContext),T=A.withAnimation,S=A.anonymPhoto,E=(0,f.isParticipantAnonym)(o),M=(0,s.classNames)("CallPhoto",y,((t={"CallPhoto--waves":T&&!!p})["CallPhoto--"+_]=!!_,t)),D=null!=g?g:String.fromCodePoint(null!==(a=v.codePointAt(0))&&void 0!==a?a:32);return!h||h.includes(l.DEFAULT_AVATAR)||E&&!S?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.ConversationNoPhoto,{id:Math.abs(o),text:D,size:_,className:M},void 0),C?(0,i.jsx)(d,{className:"CallPhoto__badge",type:"creator"},void 0):b?(0,i.jsx)(d,{className:"CallPhoto__badge",type:"admin"},void 0):null]},void 0):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("img",{src:h,className:M,alt:v,draggable:!1},void 0),C?(0,i.jsx)(d,{className:"CallPhoto__badge",type:"creator"},void 0):b?(0,i.jsx)(d,{className:"CallPhoto__badge",type:"admin"},void 0):null]},void 0)}},27814:(e,t,a)=>{"use strict";a.d(t,{default:()=>c});var i=a(70655),r=a(85893),n=a(59397),s=a(30365),l=a(73479),o=function(e){var t=e.children;return(0,r.jsx)("div",(0,i.__assign)({className:"CallsModalBody"},{children:t}),void 0)},u=a(98037),d=a(61650);const c=function(e){var t=e.className,a=e.appearance,c=void 0===a?"white":a,f=e.title,p=e.actionButtons,_=e.onClose,m=e.children,h=e.footerHint,v=e.backText,g=e.onBack,C=e.hasScroll,b=(0,n.classNames)("CallsModal","CallsModal--"+c,t),y=!(!m||!C),A=!(!p&&!h);return(0,r.jsxs)(s.default,(0,i.__assign)({},e,{className:b},{children:[(0,r.jsx)(l.ModalHeader,{title:f,onClose:_,backText:v,onBack:g},void 0),y&&(0,r.jsx)(d.default.Body,(0,i.__assign)({hasScroll:C,className:"CallsModalBody"},{children:m}),void 0),!y&&(0,r.jsx)(o,{children:m},void 0),A&&(0,r.jsx)(u.ModalFooter,{actionButtons:p,hint:h},void 0)]}),void 0)}},98037:(e,t,a)=>{"use strict";a.d(t,{ModalFooter:()=>s});var i=a(70655),r=a(85893),n=a(59397),s=function(e){var t=e.className,a=e.actionButtons,s=e.hint,l=e.children;return(0,r.jsx)("div",(0,i.__assign)({className:(0,n.classNames)("CallsModalFooter",t)},{children:(0,r.jsxs)("div",(0,i.__assign)({className:"CallsModalFooter__inner"},{children:[s&&(0,r.jsx)("div",(0,i.__assign)({className:"CallsModalFooter__hint",role:"presentation"},{children:s}),void 0),l&&(0,r.jsx)("div",(0,i.__assign)({className:"CallsModalFooter__content"},{children:l}),void 0),a]}),void 0)}),void 0)}},73479:(e,t,a)=>{"use strict";a.d(t,{ModalHeader:()=>l});var i=a(70655),r=a(85893),n=a(59397),s=a(33024),l=function(e){var t=e.className,a=e.title,l=e.onClose,o=e.backText,u=e.onBack,d=(0,n.classNames)("CallsModalHeader",t);return(0,r.jsxs)("div",(0,i.__assign)({className:d},{children:[o&&(0,r.jsx)("button",(0,i.__assign)({className:"CallsModalHeader__back",onClick:u},{children:o}),void 0),(0,r.jsx)("h1",(0,i.__assign)({className:"CallsModalHeader__title"},{children:a}),void 0),(0,r.jsxs)("button",(0,i.__assign)({className:"CallsModalHeader__cross",type:"button",onClick:l},{children:[(0,r.jsx)(s.default,{width:22,height:22},void 0),"Закрыть"]}),void 0)]}),void 0)}},21284:(e,t,a)=>{"use strict";a.d(t,{DatePicker:()=>b});var i,r=a(70655),n=a(85893),s=a(67294),l=a(30286),o=a(74140),u=a(40249),d=a(59397),c=a(88420),f=a(56589),p=a(72629),_=a(28523),m=a(25685);!function(e){e.HOUR="hour",e.MINUTE="minute"}(i||(i={}));var h=new Intl.NumberFormat("ru-RU",{minimumIntegerDigits:2}),v=new Array(24).fill(null).map((function(e,t){return{label:h.format(t),value:t}})),g=new Array(60).fill(null).map((function(e,t){return{label:h.format(t),value:t}})),C=a(209),b=function(e){var t=e.date,a=e.onChange,h=e.time,b=e.className,y=e.onSubmit,A=e.minDate,T=e.disableTimeSelect,S=e.disableDateSelect;!function(e){var t=(0,C.useNotifier)().showText,a=(0,m.useLang)().getLang;(0,s.useEffect)((function(){if(e){var i=document.querySelectorAll(".CallsDatePicker .rdrDay.rdrDayDisabled"),r=function(){t(a("calls_notify_disabled_date_selection"))};return i.forEach((function(e){return e.addEventListener("click",r)})),function(){i.forEach((function(e){return e.removeEventListener("click",r)}))}}}),[e,t])}(S);var E=(0,r.__read)((0,s.useState)((function(){return new Date})),1)[0],M=function(){var e=(0,m.useLang)().getLang;return{locale:(0,s.useMemo)((function(){var t=_.default,a=[e("Month1"),e("Month2"),e("Month3"),e("Month4"),e("Month5"),e("Month6"),e("Month7"),e("Month8"),e("Month9"),e("Month10"),e("Month11"),e("Month12")];t.localize.months=function(){return a},t.localize.month=function(e){return a[e]},t.options.weekStartsOn=1;var i=[e("global_sunday_short"),e("global_monday_short"),e("global_tuesday_short"),e("global_wednesday_short"),e("global_thursday_short"),e("global_friday_short"),e("global_saturday_short")];return t.localize.weekdays=function(){return i},t.localize.weekday=function(e){return i[e]},t}),[]),getLang:e}}(),D=M.locale,U=M.getLang,w=(0,s.useCallback)((function(e){a(e,h)}),[h,a]),k=(0,s.useCallback)((function(e){var n=e.name,s=e.selected,l=(0,r.__assign)({},h);n===i.HOUR&&(l.hours=+s.value),n===i.MINUTE&&(l.minutes=+s.value),a(t,l)}),[t,h,a]),N=(0,s.useCallback)((function(e,t){var a=S||(0,p.isDisablePrevArrow)(E,e);return(0,n.jsxs)("div",(0,r.__assign)({className:"CallsDatePicker__panel"},{children:[(0,n.jsx)("button",(0,r.__assign)({type:"button",onClick:function(){return t(-1,"monthOffset")},className:(0,d.classNames)({"CallsDatePicker__arrow CallsDatePicker__arrow--minus":!0,"CallsDatePicker__arrow CallsDatePicker__arrow--disabled":a})},{children:(0,n.jsx)(o.default,{},void 0)}),void 0),(0,n.jsx)("button",(0,r.__assign)({type:"button",onClick:function(){return t(1,"monthOffset")},className:(0,d.classNames)({"CallsDatePicker__arrow CallsDatePicker__arrow--plus":!0,"CallsDatePicker__arrow CallsDatePicker__arrow--disabled":!!S})},{children:(0,n.jsx)(u.default,{},void 0)}),void 0)]}),void 0)}),[E,S]),R=S?t:A||E,P=S?t:void 0;return(0,n.jsx)("div",(0,r.__assign)({className:(0,d.classNames)("CallsDatePicker",b)},{children:(0,n.jsxs)("div",(0,r.__assign)({className:"CallsDatePicker__wrap"},{children:[(0,n.jsx)(l.Calendar,{date:t,minDate:R,maxDate:P,editableDateInputs:!1,navigatorRenderer:N,lang:"ru",onChange:w,monthDisplayFormat:"MMM yyyy",weekdayDisplayFormat:"iiiiii",dayDisplayFormat:"d",locale:D,showDateDisplay:!1,direction:"horizontal"},void 0),(0,n.jsx)("div",{className:"CallsDatePicker__divider"},void 0),(0,n.jsxs)("div",(0,r.__assign)({className:"CallsDatePicker__time"},{children:[(0,n.jsxs)("div",(0,r.__assign)({className:(0,d.classNames)({"CallsDatePicker__time__selectWrap--hidden":!!T})},{children:[(0,n.jsx)(f.default,{className:"CallsDatePicker__time__select",appearance:"secondary",options:v,value:h.hours,onChange:k,name:i.HOUR},void 0),(0,n.jsx)("span",(0,r.__assign)({className:"CallsDatePicker__time__divider"},{children:":"}),void 0),(0,n.jsx)(f.default,{className:"CallsDatePicker__time__select",appearance:"secondary",options:g,value:h.minutes,onChange:k,name:i.MINUTE},void 0)]}),void 0),(0,n.jsx)(c.default,(0,r.__assign)({onClick:y,appearance:"primary"},{children:U("calls_btn_ready")}),void 0)]}),void 0)]}),void 0)}),void 0)}},72629:(e,t,a)=>{"use strict";a.d(t,{isDisablePrevArrow:()=>r,isSameDate:()=>n,getDateTimeValue:()=>s,getNextDateTime:()=>l});var i=a(62833),r=function(e,t){var a=e.getFullYear(),i=t.getFullYear();return i<a||!(i>a)&&t.getMonth()<=e.getMonth()},n=function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},s=function(e,t,a){void 0===a&&(a=!1);var r=new Date(e);return r.setHours(t.hours),r.setMinutes(t.minutes),a?(0,i.dateToUnixTimestamp)(r):Math.round(r.valueOf())};function l(e,t,a){void 0===a&&(a=0);var i=new Date(e.valueOf());i.setHours(t.hours,t.minutes);var r=new Date(i.valueOf()+a);return{date:r,time:{hours:r.getHours(),minutes:r.getMinutes()}}}},64372:(e,t,a)=>{"use strict";a.d(t,{Dropdown:()=>c});var i=a(70655),r=a(85893),n=a(67294),s=a(73935),l=a(23570),o=a.n(l),u=a(59397),d=a(53996),c=function(e){function t(t){var a=e.call(this,t)||this;return a.onClick=function(){if(!a.state.dropdown||a.state.dropdown.removed){var e=a.props,t=e.position,i=e.align,r=e.marginTop,n=e.marginLeft,s=e.horizontalPosition,l=a._getElRect();a.update({position:t,horizontalPosition:s,align:i,rect:l,marginTop:r,marginLeft:n})}else a.update()},a.onMouseEnter=function(){a.callerHovered=!0,a.timeouts.appear=setTimeout((function(){if(a.el&&a.callerHovered){var e=a.props,t=e.position,i=e.align,r=e.marginTop,n=e.marginLeft,s=e.horizontalPosition,l=a._getElRect();a.update({position:t,align:i,horizontalPosition:s,rect:l,marginTop:r,marginLeft:n})}}),80)},a.onMouseLeave=function(){a.callerHovered=!1,a.timeouts.callerDisappear=setTimeout((function(){a.callerHovered||a.hovered||a.update()}),250)},a.onDropdownMouseEnter=function(){"hover"===a.props.trigger&&(a.hovered=!0)},a.onDropdownMouseLeave=function(){"hover"===a.props.trigger&&(a.hovered=!1,a.timeouts.disappear=setTimeout((function(){a.callerHovered||a.hovered||a.update()}),250))},a.onKeyDown=function(e){"Escape"===e.key&&a.state.dropdown&&a.update()},a.onDocumentClick=function(e){var t=e.target;a.elWrapperClass?!a.state.dropdown||a.state.dropdown.removed||t.closest("."+a.elWrapperClass)||a.el.contains(t)||a.update():!a.state.dropdown||a.state.dropdown.removed||a.el.contains(t)||a.update()},a.onResize=function(){if(a.state.dropdown&&!a.state.dropdown.removed){var e=a.props,t=e.position,i=e.align,r=e.marginTop,n=e.marginLeft,s=e.horizontalPosition,l=a._getElRect();a.update({position:t,align:i,horizontalPosition:s,rect:l,marginTop:r,marginLeft:n})}},a.onTransitionEnd=function(e){"visibility"===e.propertyName&&a.state.dropdown&&a.state.dropdown.removed&&a.setState({dropdown:void 0})},a.onItemClick=function(e,t){t.separator||(a.props.disableCloseByItemClick||a.update(),t.onClick&&t.onClick(e))},a.state={},a.timeouts={},a.elWrapperClass="dropdown-"+o()(),a}return(0,i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.el=s.findDOMNode(this),"click"===this.props.trigger?(this.el.addEventListener("click",this.onClick),document.addEventListener("mousedown",this.onDocumentClick),window.addEventListener("resize",this.onResize)):(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("mouseleave",this.onMouseLeave)),requestAnimationFrame((function(){if(e.props.rootScrollSelector){var t=document.querySelector(e.props.rootScrollSelector);t||(0,d.debugMessage)(d.DebugMessageType.ERROR,{component:"calls/Dropdown",text:"Invalid $element selector with prop rootScrollSelector",selector:e.props.rootScrollSelector}),null==t||t.addEventListener("scroll",e.onResize)}})),document.body.addEventListener("keydown",this.onKeyDown)},t.prototype.componentWillUnmount=function(){var e,t=this;if(Object.keys(this.timeouts).forEach((function(e){clearTimeout(t.timeouts[e])})),"click"===this.props.trigger?(this.el.removeEventListener("click",this.onClick),document.removeEventListener("mousedown",this.onDocumentClick),window.removeEventListener("resize",this.onResize)):(this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("mouseleave",this.onMouseLeave)),this.defaultNode&&(null===(e=this.defaultNode.parentNode)||void 0===e||e.removeChild(this.defaultNode),delete this.defaultNode),this.props.rootScrollSelector){var a=document.querySelector(this.props.rootScrollSelector);null==a||a.removeEventListener("scroll",this.onResize)}document.body.removeEventListener("keydown",this.onKeyDown)},t.prototype._getElRect=function(){return this.props.useFixedPosition?this.el.getBoundingClientRect():(0,u.getOffsetRect)(this.el)},t.prototype.update=function(e){if(!e)return this.setState({dropdown:Object.assign({},this.state.dropdown,{removed:!0})});var t=e.position,a=e.align,i=e.horizontalPosition,r=e.rect,n=e.marginTop,s=e.marginLeft,l=r.left,o=r.top;switch(t){case"t":"center"===i?l+=.5*r.width:"right"===i&&(l+=r.width);break;case"r":l+=r.width,o+=.5*r.height;break;case"b":o+=r.height,"center"===i?l+=.5*r.width:"right"===i&&(l+=r.width);break;case"l":o+=.5*r.height}l=Math.round(l+s),o=Math.round(o+n),this.setState({dropdown:{position:t,align:a,x:l,y:o}})},t.prototype.renderDropdown=function(){var e,t=this;if(!this.state.dropdown)return null;var a=this.state.dropdown,n=a.x,s=a.y,l=a.position,o=a.align,d=a.removed,c=(0,u.classNames)("CallsDropdownComponent","CallsDropdownComponent--"+l,((e={"CallsDropdownComponent--removed":!!d})["CallsDropdownComponent--align-"+o]="t"===l||"b"===l,e),"CallsDropdownComponent--"+this.props.appearance,{"CallsDropdownComponent--position-fixed":!!this.props.useFixedPosition},this.props.className),f=(0,u.classNames)("CallsDropdownComponent__in",this.props.dataContainerClassName);return(0,r.jsxs)("div",(0,i.__assign)({className:c,style:n&&s?{top:s,left:n}:void 0,onTransitionEnd:function(e){return t.onTransitionEnd(e)},onMouseEnter:this.onDropdownMouseEnter,onMouseLeave:this.onDropdownMouseLeave},{children:[this.props.dataJsx&&((0,u.isFunction)(this.props.dataJsx)?this.props.dataJsx((function(){return t.update()})):this.props.dataJsx),this.props.data&&(0,r.jsx)("ul",(0,i.__assign)({className:f},{children:this.props.data.map((function(e,a){return(0,r.jsx)("li",(0,i.__assign)({className:(0,u.classNames)("CallsDropdownComponent__item",{CallsDropdownComponent__itemSeparator:e.separator},{CallsDropdownComponent__itemNegative:e.negative},{CallsDropdownComponent__itemNoHover:e.noHover},{"Dropdown__item--disable-hover":t.props.disableCssHover}),onClick:function(a){return t.onItemClick(a,e)},onMouseDown:function(a){return t.onItemClick(a,e)}},{children:e.text}),void 0!==e.id?e.id:a)}))}),void 0)]}),void 0)},t.prototype.render=function(){var e=this.renderDropdown();return e?(this.defaultNode||(0,u.isUndefined)(window)||(this.defaultNode=document.createElement("div"),this.defaultNode.classList.add(this.elWrapperClass),document.body.appendChild(this.defaultNode)),(0,r.jsxs)(n.Fragment,{children:[this.props.children,s.createPortal(e,this.defaultNode)]},void 0)):this.props.children},t.defaultProps={position:"b",horizontalPosition:"center",align:"center",marginTop:0,marginLeft:0,trigger:"click",className:"",dataContainerClassName:"",appearance:"primary",disableCloseByItemClick:!1,disableCssHover:!1},t}(n.Component)},75683:(e,t,a)=>{"use strict";a.d(t,{ModalDeleteCall:()=>c});var i=a(70655),r=a(85893),n=a(27814),s=a(88420),l=a(33483),o=a(25685),u=a(59247),d=a(78658),c=function(e){var t,a=e.onClose,c=e.call,f=e.onSubmit,p=e.onReschedule,_=e.loading,m=(0,o.useLang)().getLang,h=(0,u.useLocale)().locale,v=new Date(1e3*((null===(t=c.schedule)||void 0===t?void 0:t.time)||0));return(0,r.jsx)(n.default,(0,i.__assign)({className:"CallsModalDeleteCall",onClose:a,title:m("calls_delete_call"),actionButtons:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.default,(0,i.__assign)({appearance:"secondary",onClick:p},{children:m("calls_reschedule_to_other_time")}),void 0),(0,r.jsx)(s.default,(0,i.__assign)({appearance:"primary",onClick:f,disabled:!!_},{children:m("calls_delete")}),void 0)]},void 0)},{children:m("calls_delete_call_desc").replace("{name}",(0,d.shorten)(c.name||"",30)).replace("{time}",l.timeFormat.format(v)).replace("{datemonth}",(0,l.dateMonthFormat)(v,h))}),void 0)}},72382:(e,t,a)=>{"use strict";a.d(t,{ModalRescheduleCall:()=>w});var i=a(70655),r=a(85893),n=a(67294),s=a(49336),l=a(88420),o=a(73479),u=a(98037),d=a(25685),c=a(70226),f=a(93589),p=a(32997),_=a(59397),m=a(22835),h=a(95418),v=a(80905),g=a(82659),C=a(20659),b=a(4182),y=a(26075),A=a(60120),T=a(73628),S=a(45391),E=a(58108),M=a(72716),D=a(62833),U=a(7533),w=function(e){var t,a=e.onClose,w=e.onSubmit,k=e.call,N=e.loading,R=e.userSelectOptions,P=e.myUserId,x=(0,d.useLang)().getLang,I=(0,C.useOptions)(),O=I.durationOptions,L=I.calendarOptions;(0,y.useSelectTimezonesScrollOnOpen)({selector:"ModalScheduleCall__select--timezone"});var j=(0,U.useUserOptions)({options:R,myUserId:P}),B=(0,T.useDateTimeValues)({call:k}),V=(0,b.useTimezones)(),F=(0,S.useRRuleEndValue)((0,i.__assign)({recurrenceUntilTime:null==k?void 0:k.schedule.recurrence_until_time},B.rruleEndCtx)),H=(0,M.useRepeatCallOptions)({date:B.dateStartCtx.date,initialValue:(0,D.mapRecurrenceRule)(null===(t=null==k?void 0:k.schedule)||void 0===t?void 0:t.recurrence_rule)}),G=(0,h.useFormSelectValue)({options:L,initialValue:g.ECalendar.Other}),W=(0,m.useFormCheckboxesValues)({initialValue:!!k&&!k.skip_notification}),z=(0,n.useRef)(["ModalScheduleCall__dropdown"]),q=".CallsModalRescheduleCall";return(0,r.jsxs)(s.BaseModal,(0,i.__assign)({className:"CallsModalRescheduleCall",onClose:a,preventCloseClasses:z.current,disableBodyScroll:!0},{children:[(0,r.jsx)(o.ModalHeader,{title:x("calls_reschedule_title"),onClose:a},void 0),(0,r.jsx)("div",(0,i.__assign)({className:"CallsModalRescheduleCall__disclaimer"},{children:x("calls_reschedule_disclaimer")}),void 0),(0,r.jsx)("div",{className:(0,_.classNames)("ModalScheduleCall__calendar__divider","ModalScheduleCall__calendar__divider--full-width")},void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,_.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols")},{children:[(0,r.jsx)("span",{children:x("calls_start_time")},void 0),(0,r.jsx)(f.DatePicker,(0,i.__assign)({},B.dateStartCtx,{disableTimeSelect:B.isAllDay,rootScrollSelector:q}),void 0)]}),void 0),(0,r.jsx)("div",(0,i.__assign)({className:(0,_.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--duration")},{children:O.map((function(e){return(0,r.jsx)(v.CallChip,(0,i.__assign)({value:e,onClick:B.handleChangeDuration,selected:B.duration===e.value},{children:e.label}),e.value)}))}),void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,_.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols")},{children:[(0,r.jsx)("span",{children:x("calls_end")},void 0),(0,r.jsx)(f.DatePicker,(0,i.__assign)({},B.dateEndCtx,{minDate:B.dateStartCtx.date,disabled:B.isAllDay,rootScrollSelector:q}),void 0)]}),void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,_.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__timezone")},{children:[(0,r.jsx)("span",{children:x("calls_timezone")},void 0),(0,r.jsx)(p.default,(0,i.__assign)({className:(0,_.classNames)("ModalScheduleCall__select","ModalScheduleCall__select--searchable","ModalScheduleCall__select--timezone")},V,{searchable:!0,enableSearchSelectOnFocus:!0,checkRightSearchableValue:!0}),void 0)]}),void 0),(0,r.jsx)("div",{className:(0,_.classNames)("ModalScheduleCall__calendar__divider","ModalScheduleCall__calendar__divider--full-width")},void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,_.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__calls-repeat")},{children:[(0,r.jsx)("div",{children:x("calls_repeat")},void 0),(0,r.jsx)(p.default,(0,i.__assign)({appearance:"fancy",className:"ModalScheduleCall__select"},H),void 0)]}),void 0),H.value!==A.ERepeatCallVariant.Never&&(0,r.jsxs)("div",(0,i.__assign)({className:(0,_.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols")},{children:[(0,r.jsx)("span",{children:x("calls_end_of_rrule")},void 0),(0,r.jsxs)("div",(0,i.__assign)({className:"ModalScheduleCall__select-primary__wrap"},{children:[(0,r.jsx)(E.DatePickerRruleEnd,{date:F.date,time:F.time,handleChangeDatePicker:F.handleChangeDatePicker,placeholder:F.placeholder,refDropdownTrigger:F.refDropdownTrigger,minDate:B.dateEndCtx.date,rootScrollSelector:q},void 0),(0,r.jsx)(p.default,(0,i.__assign)({},F.selectProps,{placeholder:F.placeholder,forcePlaceholder:!0}),void 0)]}),void 0)]}),void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,_.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols")},{children:[(0,r.jsx)("span",{children:x("calls_add_to_calendar")},void 0),(0,r.jsx)(p.default,(0,i.__assign)({appearance:"fancy",className:"ModalScheduleCall__select"},G),void 0)]}),void 0),(0,r.jsxs)("label",(0,i.__assign)({className:(0,_.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__switch-panel")},{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:x("calls_remind")},void 0),(0,r.jsx)("div",(0,i.__assign)({className:"ModalScheduleCall__text--muted ModalScheduleCall__setting-description"},{children:x("calls_remind_desc")}),void 0)]},void 0),(0,r.jsx)(c.default,(0,i.__assign)({},W),void 0)]}),void 0),(0,r.jsx)(u.ModalFooter,{actionButtons:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.default,(0,i.__assign)({appearance:"tertiary",onClick:a,disabled:!!N},{children:x("calls_cancel")}),void 0),(0,r.jsx)(l.default,(0,i.__assign)({appearance:"primary",onClick:function(){var e=j.select.value!==P?j.displayName:void 0,t={groupId:k.caller_id,name:k.name,muteAudio:k.mute_audio||g.EMediaPermission.Allowed,muteVideo:k.mute_video||g.EMediaPermission.Allowed,onlyAuthUsers:k.only_auth_users?1:0,duration:B.durationMs,start:B.startTimeMs,waitingHall:k.waiting_hall?1:0,calendar:G.value,displayName:e,timezone:V.value,rrule:H.value,skipNotification:W.checked?0:1};(null==k?void 0:k.schedule.marker_time)&&(t.markerTime=k.schedule.marker_time),H.value!==A.ERepeatCallVariant.Never&&F.value&&(t.recurrenceUntilTime=F.value.valueOf()),w(t)},disabled:!!N},{children:x("calls_reschedule_btn")}),void 0)]},void 0)},void 0)]}),void 0)}},93589:(e,t,a)=>{"use strict";a.d(t,{DatePicker:()=>u});var i=a(70655),r=a(85893),n=a(67294),s=a(21284),l=a(64372),o=a(59397),u=(0,n.memo)((function(e){var t=e.minDate,a=e.disabled,n=e.disableTimeSelect,u=e.rootScrollSelector,d=void 0===u?".ModalScheduleCall .CallsModalBody .ui_scroll_outer":u,c=(0,i.__rest)(e,["minDate","disabled","disableTimeSelect","rootScrollSelector"]);return(0,r.jsx)(l.Dropdown,(0,i.__assign)({className:"ModalScheduleCall__dropdown",appearance:"fancy",dataJsx:function(e){return(0,r.jsx)(s.DatePicker,(0,i.__assign)({},c,{minDate:t,disableTimeSelect:n,onSubmit:e}),void 0)},position:"b",horizontalPosition:"left",rootScrollSelector:d,useFixedPosition:!0,marginTop:-24,marginLeft:-38},{children:(0,r.jsx)("span",(0,i.__assign)({className:(0,o.classNames)("ModalScheduleCall__select-text","ModalScheduleCall__select-text--datepicker",{"ModalScheduleCall__select-text--disabled":!!a})},{children:c.chosenDateText}),void 0)}),void 0)}));u.displayName="DatePickerForScheduledCall"},58108:(e,t,a)=>{"use strict";a.d(t,{DatePickerRruleEnd:()=>o});var i=a(70655),r=a(85893),n=a(67294),s=a(21284),l=a(64372),o=(0,n.memo)((function(e){var t=e.rootScrollSelector||".ModalScheduleCall .CallsModalBody";return(0,r.jsx)(l.Dropdown,(0,i.__assign)({className:"ModalScheduleCall__dropdown",appearance:"fancy",dataJsx:function(t){return(0,r.jsx)(s.DatePicker,{date:e.date,time:e.time,onChange:e.handleChangeDatePicker,disableTimeSelect:!0,minDate:e.minDate,onSubmit:t},void 0)},position:"b",horizontalPosition:"left",rootScrollSelector:t,useFixedPosition:!0,marginTop:-24,marginLeft:-3},{children:(0,r.jsx)("span",{ref:e.refDropdownTrigger,className:"ModalScheduleCall__select-text"},void 0)}),void 0)}));o.displayName="DatePickerRruleEnd"},37184:(e,t,a)=>{"use strict";a.d(t,{ModalScheduleCall:()=>w});var i=a(70655),r=a(85893),n=a(25685),s=a(27814),l=a(89366),o=a(67294),u=a(22835),d=a(95418),c=a(32997),f=a(70226),p=a(59397),_=a(88420),m=function(e){var t=e.description,a=e.onClose,l=e.onSubmit,o=(0,n.useLang)().getLang;return(0,r.jsx)(s.default,(0,i.__assign)({className:"CallsDialogConfirmClose",title:o("calls_confirm"),onClose:a,actionButtons:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_.default,(0,i.__assign)({onClick:a,appearance:"tertiary"},{children:o("calls_cancel")}),void 0),(0,r.jsx)(_.default,(0,i.__assign)({onClick:l},{children:o("calls_exit")}),void 0)]},void 0)},{children:t}),void 0)};var h=a(80905),v=a(82659),g=a(72716),C=a(4182),b=a(7533),y=a(60120),A=a(20659),T=a(26075),S=a(62833),E=a(73628),M=a(93589),D=a(45391),U=a(58108),w=function(e){var t=e.onClose,a=e.headerTitle,w=e.onSubmit,k=e.userSelectOptions,N=e.myUserId,R=e.loading,P=e.call,x=(0,n.useLang)().getLang,I=(0,A.useOptions)(),O=I.calendarOptions,L=I.durationOptions,j=I.mediaOptions,B=function(){var e=(0,i.__read)((0,o.useState)(!1),2),t=e[0],a=e[1],r=(0,o.useCallback)((function(){a(!1)}),[]);return{open:t,handleOpenDialog:(0,o.useCallback)((function(){a(!0)}),[]),handleCloseDialog:r}}(),V=B.handleCloseDialog,F=B.handleOpenDialog,H=B.open;(0,T.useSelectTimezonesScrollOnOpen)({selector:"ModalScheduleCall__select--timezone"});var G=function(e){var t=e.initialValue,a=e.validator,r=(0,i.__read)((0,o.useState)(t||""),2),n=r[0],s=r[1],l=(0,i.__read)((0,o.useState)(!1),2),u=l[0],d=l[1],c=(0,o.useRef)(!1),f=(0,o.useCallback)((function(e){c.current=!0,s(e.target.value)}),[]);return(0,o.useEffect)((function(){c.current&&a&&d(!a(n))}),[n,a]),{value:n,error:u,onChange:f}}({initialValue:function(){return(null==P?void 0:P.name)||x("calls_default_meeting_name")}}),W=(0,E.useDateTimeValues)({call:P}),z=(0,C.useTimezones)(),q=(0,D.useRRuleEndValue)((0,i.__assign)({recurrenceUntilTime:null==P?void 0:P.schedule.recurrence_until_time},W.rruleEndCtx)),K=(0,g.useRepeatCallOptions)({date:W.dateStartCtx.date,initialValue:(0,S.mapRecurrenceRule)(null==P?void 0:P.schedule.recurrence_rule)}),Y=(0,d.useFormSelectValue)({options:O,initialValue:v.ECalendar.Other}),J=(0,u.useFormCheckboxesValues)({initialValue:!!P&&!P.skip_notification}),Z=(0,u.useFormCheckboxesValues)({initialValue:!!(null==P?void 0:P.waiting_hall)}),$=(0,u.useFormCheckboxesValues)({initialValue:!(null==P?void 0:P.only_auth_users)}),Q=(0,d.useFormSelectValue)({options:j,initialValue:function(){return(null==P?void 0:P.mute_audio)||v.EMediaPermission.Allowed}}),X=(0,d.useFormSelectValue)({options:j,initialValue:function(){return(null==P?void 0:P.mute_video)||v.EMediaPermission.Allowed}}),ee=(0,b.useUserOptions)({options:k,myUserId:N,forceShow:!(!P||!(null==k?void 0:k.length))});return(0,r.jsxs)(r.Fragment,{children:[H&&(0,r.jsx)(m,{description:x("calls_confirm_exit_description"),onClose:V,onSubmit:t},void 0),(0,r.jsx)(s.default,(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall",{"ModalScheduleCall--custom-h":!P&&((null==k?void 0:k.length)||0)>1}),title:a,onClose:F,disableBodyScroll:!0,hasScroll:!0,actionButtons:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",(0,i.__assign)({className:"ModalScheduleCall__text--muted"},{children:x("calls_will_copy_to_clipboard")}),void 0),(0,r.jsxs)("div",{children:[(0,r.jsx)(_.default,(0,i.__assign)({onClick:F,appearance:"tertiary"},{children:x("calls_cancel")}),void 0),(0,r.jsx)(_.default,(0,i.__assign)({onClick:function(){var e=ee.select.value!==N?ee.displayName:void 0,t={name:G.value.trim()||x("calls_default_meeting_name"),muteAudio:Q.value,muteVideo:X.value,onlyAuthUsers:$.checked?0:1,duration:W.durationMs,start:W.startTimeMs,waitingHall:Z.checked?1:0,calendar:Y.value,displayName:e,timezone:z.value,rrule:K.value,skipNotification:J.checked?0:1};(null==P?void 0:P.schedule.marker_time)&&(t.markerTime=P.schedule.marker_time),ee.select.value!==N&&(t.groupId=ee.select.value),K.value!==y.ERepeatCallVariant.Never&&q.value&&(t.recurrenceUntilTime=q.value.valueOf()),w(t)},disabled:R},{children:x(P?"calls_save":"calls_landing_standalone_schedule_call")}),void 0)]},void 0)]},void 0)},{children:(0,r.jsxs)("div",(0,i.__assign)({className:"ModalScheduleCall__calendar"},{children:[!!ee.isShow&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row--user-select","ModalScheduleCall__calendar__row--3-cols")},{children:[(0,r.jsx)("div",{children:(0,r.jsx)("img",{className:"ModalScheduleCall__avatar",src:ee.avatarUrl,alt:"user-avatar"},void 0)},void 0),(0,r.jsx)("div",{children:ee.displayName},void 0),(0,r.jsx)(c.default,(0,i.__assign)({},ee.select,{className:"ModalScheduleCall__select",appearance:"fancy",disabled:!!P}),void 0)]}),void 0),(0,r.jsx)("div",{className:(0,p.classNames)("ModalScheduleCall__calendar__divider","ModalScheduleCall__calendar__divider--full-width")},void 0)]},void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols")},{children:[(0,r.jsx)("span",{children:x("calls_title")},void 0),(0,r.jsx)(l.default,{value:G.value,onChange:G.onChange,isError:G.error},void 0)]}),void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols")},{children:[(0,r.jsx)("span",{children:x("calls_start_time")},void 0),(0,r.jsx)(M.DatePicker,(0,i.__assign)({},W.dateStartCtx,{disableTimeSelect:W.isAllDay}),void 0)]}),void 0),(0,r.jsx)("div",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--duration")},{children:L.map((function(e){return(0,r.jsx)(h.CallChip,(0,i.__assign)({value:e,onClick:W.handleChangeDuration,selected:W.duration===e.value},{children:e.label}),e.value)}))}),void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols")},{children:[(0,r.jsx)("span",{children:x("calls_end")},void 0),(0,r.jsx)(M.DatePicker,(0,i.__assign)({},W.dateEndCtx,{minDate:W.dateStartCtx.date,disabled:W.isAllDay}),void 0)]}),void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__timezone")},{children:[(0,r.jsx)("span",{children:x("calls_timezone")},void 0),(0,r.jsx)(c.default,(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__select","ModalScheduleCall__select--searchable","ModalScheduleCall__select--timezone")},z,{searchable:!0,enableSearchSelectOnFocus:!0,checkRightSearchableValue:!0}),void 0)]}),void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__calls-repeat")},{children:[(0,r.jsx)("div",{children:x("calls_repeat")},void 0),(0,r.jsx)(c.default,(0,i.__assign)({appearance:"fancy",className:"ModalScheduleCall__select"},K),void 0)]}),void 0),K.value!==y.ERepeatCallVariant.Never&&(0,r.jsxs)("div",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols")},{children:[(0,r.jsx)("span",{children:x("calls_end_of_rrule")},void 0),(0,r.jsxs)("div",(0,i.__assign)({className:"ModalScheduleCall__select-primary__wrap"},{children:[(0,r.jsx)(U.DatePickerRruleEnd,{date:q.date,time:q.time,handleChangeDatePicker:q.handleChangeDatePicker,placeholder:q.placeholder,refDropdownTrigger:q.refDropdownTrigger,minDate:W.dateEndCtx.date},void 0),(0,r.jsx)(c.default,(0,i.__assign)({},q.selectProps,{placeholder:q.placeholder,forcePlaceholder:!0}),void 0)]}),void 0)]}),void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols")},{children:[(0,r.jsx)("span",{children:x("calls_add_to_calendar")},void 0),(0,r.jsx)(c.default,(0,i.__assign)({appearance:"fancy",className:"ModalScheduleCall__select"},Y),void 0)]}),void 0),(0,r.jsxs)("label",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__switch-panel")},{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:x("calls_remind")},void 0),(0,r.jsx)("div",(0,i.__assign)({className:"ModalScheduleCall__text--muted ModalScheduleCall__setting-description"},{children:x("calls_remind_desc")}),void 0)]},void 0),(0,r.jsx)(f.default,(0,i.__assign)({},J),void 0)]}),void 0),(0,r.jsx)("div",{className:(0,p.classNames)("ModalScheduleCall__calendar__divider","ModalScheduleCall__calendar__divider--full-width")},void 0),(0,r.jsxs)("label",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__switch-panel")},{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:x("calls_waiting_hall")},void 0),(0,r.jsx)("div",(0,i.__assign)({className:"ModalScheduleCall__text--muted ModalScheduleCall__setting-description"},{children:x("calls_menu_waiting_hall_description")}),void 0)]},void 0),(0,r.jsx)(f.default,(0,i.__assign)({},Z),void 0)]}),void 0),(0,r.jsxs)("label",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__switch-panel")},{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:x("calls_create_call_by_link_anon")},void 0),(0,r.jsx)("div",(0,i.__assign)({className:"ModalScheduleCall__text--muted ModalScheduleCall__setting-description"},{children:x("calls_create_call_by_link_anon_hint_shedule")}),void 0)]},void 0),(0,r.jsx)(f.default,(0,i.__assign)({},$),void 0)]}),void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols")},{children:[(0,r.jsx)("div",{children:x("calls_participant_menu_mute_video")},void 0),(0,r.jsx)(c.default,(0,i.__assign)({position:"t",appearance:"fancy",className:"ModalScheduleCall__select"},X),void 0)]}),void 0),(0,r.jsxs)("div",(0,i.__assign)({className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols")},{children:[(0,r.jsx)("div",{children:x("calls_microphones")},void 0),(0,r.jsx)(c.default,(0,i.__assign)({position:"t",appearance:"fancy",className:"ModalScheduleCall__select"},Q),void 0)]}),void 0)]}),void 0)}),void 0)]},void 0)}},82659:(e,t,a)=>{"use strict";a.d(t,{timezones:()=>l,EDuration:()=>n,DURATION_MAP:()=>d,DURATION_LANG_MAP:()=>c,ECalendar:()=>o,EMediaPermission:()=>u,hour:()=>f,numberFormatter:()=>p,dateFormatter:()=>_,numberWithSignFormatter:()=>m});var i,r,n,s=a(82280),l={"Pacific/Niue":{id:"Pacific/Niue",title:"Ниуэ",subtitle:"UTC-11",offset:-11},"Pacific/Pago_Pago":{id:"Pacific/Pago_Pago",title:"Самоа/Паго-Паго",subtitle:"UTC-11",offset:-11},"America/Adak":{id:"America/Adak",title:"Гавайско-алеутское время/Адак",subtitle:"UTC-10",offset:-10},"Pacific/Honolulu":{id:"Pacific/Honolulu",title:"Гавайско-алеутское время/Гонолулу",subtitle:"UTC-10",offset:-10},"Pacific/Rarotonga":{id:"Pacific/Rarotonga",title:"Острова Кука/Раротонга",subtitle:"UTC-10",offset:-10},"Pacific/Tahiti":{id:"Pacific/Tahiti",title:"Таити",subtitle:"UTC-10",offset:-10},"Pacific/Marquesas":{id:"Pacific/Marquesas",title:"Маркизские о-ва",subtitle:"UTC-9",offset:-9.5},"America/Anchorage":{id:"America/Anchorage",title:"Аляска/Анкоридж",subtitle:"UTC-9",offset:-9},"America/Juneau":{id:"America/Juneau",title:"Аляска/Джуно",subtitle:"UTC-9",offset:-9},"America/Metlakatla":{id:"America/Metlakatla",title:"Аляска/Метлакатла",subtitle:"UTC-9",offset:-9},"America/Nome":{id:"America/Nome",title:"Аляска/Ном",subtitle:"UTC-9",offset:-9},"America/Sitka":{id:"America/Sitka",title:"Аляска/Ситка",subtitle:"UTC-9",offset:-9},"America/Yakutat":{id:"America/Yakutat",title:"Аляска/Якутат",subtitle:"UTC-9",offset:-9},"Pacific/Gambier":{id:"Pacific/Gambier",title:"о-ва Гамбье",subtitle:"UTC-9",offset:-9},"America/Los_Angeles":{id:"America/Los_Angeles",title:"Тихоокеанское время/Лос-Анджелес",subtitle:"UTC-8",offset:-8},"America/Tijuana":{id:"America/Tijuana",title:"Тихоокеанское время/Тихуана",subtitle:"UTC-8",offset:-8},"America/Vancouver":{id:"America/Vancouver",title:"Тихоокеанское время/Ванкувер",subtitle:"UTC-8",offset:-8},"Pacific/Pitcairn":{id:"Pacific/Pitcairn",title:"Питкэрн",subtitle:"UTC-8",offset:-8},"America/Boise":{id:"America/Boise",title:"Горное время (Северная Америка)/Бойсе",subtitle:"UTC-7",offset:-7},"America/Cambridge_Bay":{id:"America/Cambridge_Bay",title:"Горное время (Северная Америка)/Кеймбридж-Бей",subtitle:"UTC-7",offset:-7},"America/Chihuahua":{id:"America/Chihuahua",title:"Тихоокеанское мексиканское время/Чиуауа",subtitle:"UTC-7",offset:-7},"America/Creston":{id:"America/Creston",title:"Горное время (Северная Америка)/Крестон",subtitle:"UTC-7",offset:-7},"America/Dawson":{id:"America/Dawson",title:"Горное время (Северная Америка)/Доусон",subtitle:"UTC-7",offset:-7},"America/Dawson_Creek":{id:"America/Dawson_Creek",title:"Горное время (Северная Америка)/Доусон-Крик",subtitle:"UTC-7",offset:-7},"America/Denver":{id:"America/Denver",title:"Горное время (Северная Америка)/Денвер",subtitle:"UTC-7",offset:-7},"America/Edmonton":{id:"America/Edmonton",title:"Горное время (Северная Америка)/Эдмонтон",subtitle:"UTC-7",offset:-7},"America/Fort_Nelson":{id:"America/Fort_Nelson",title:"Горное время (Северная Америка)/Форт Нельсон",subtitle:"UTC-7",offset:-7},"America/Hermosillo":{id:"America/Hermosillo",title:"Тихоокеанское мексиканское время/Эрмосильо",subtitle:"UTC-7",offset:-7},"America/Inuvik":{id:"America/Inuvik",title:"Горное время (Северная Америка)/Инувик",subtitle:"UTC-7",offset:-7},"America/Mazatlan":{id:"America/Mazatlan",title:"Тихоокеанское мексиканское время/Масатлан",subtitle:"UTC-7",offset:-7},"America/Ojinaga":{id:"America/Ojinaga",title:"Горное время (Северная Америка)/Охинага",subtitle:"UTC-7",offset:-7},"America/Phoenix":{id:"America/Phoenix",title:"Горное время (Северная Америка)/Финикс",subtitle:"UTC-7",offset:-7},"America/Whitehorse":{id:"America/Whitehorse",title:"Горное время (Северная Америка)/Уайтхорс",subtitle:"UTC-7",offset:-7},"America/Yellowknife":{id:"America/Yellowknife",title:"Горное время (Северная Америка)/Йеллоунайф",subtitle:"UTC-7",offset:-7},"America/Bahia_Banderas":{id:"America/Bahia_Banderas",title:"Центральная Америка/Баия-де-Бандерас",subtitle:"UTC-6",offset:-6},"America/Belize":{id:"America/Belize",title:"Центральная Америка/Белиз",subtitle:"UTC-6",offset:-6},"America/Chicago":{id:"America/Chicago",title:"Центральная Америка/Чикаго",subtitle:"UTC-6",offset:-6},"America/Costa_Rica":{id:"America/Costa_Rica",title:"Центральная Америка/Коста-Рика",subtitle:"UTC-6",offset:-6},"America/El_Salvador":{id:"America/El_Salvador",title:"Центральная Америка/Сальвадор",subtitle:"UTC-6",offset:-6},"America/Guatemala":{id:"America/Guatemala",title:"Центральная Америка/Гватемала",subtitle:"UTC-6",offset:-6},"America/Indiana/Knox":{id:"America/Indiana/Knox",title:"Центральная Америка/Нокс",subtitle:"UTC-6",offset:-6},"America/Indiana/Tell_City":{id:"America/Indiana/Tell_City",title:"Центральная Америка/Телл-Сити",subtitle:"UTC-6",offset:-6},"America/Managua":{id:"America/Managua",title:"Центральная Америка/Манагуа",subtitle:"UTC-6",offset:-6},"America/Matamoros":{id:"America/Matamoros",title:"Центральная Америка/Матаморос",subtitle:"UTC-6",offset:-6},"America/Menominee":{id:"America/Menominee",title:"Центральная Америка/Меномини",subtitle:"UTC-6",offset:-6},"America/Merida":{id:"America/Merida",title:"Центральная Америка/Мерида",subtitle:"UTC-6",offset:-6},"America/Mexico_City":{id:"America/Mexico_City",title:"Центральная Америка/Мехико",subtitle:"UTC-6",offset:-6},"America/Monterrey":{id:"America/Monterrey",title:"Центральная Америка/Монтеррей",subtitle:"UTC-6",offset:-6},"America/North_Dakota/Beulah":{id:"America/North_Dakota/Beulah",title:"Центральная Америка/Бойла",subtitle:"UTC-6",offset:-6},"America/North_Dakota/Center":{id:"America/North_Dakota/Center",title:"Центральная Америка/Центр",subtitle:"UTC-6",offset:-6},"America/North_Dakota/New_Salem":{id:"America/North_Dakota/New_Salem",title:"Центральная Америка/Нью-Сейлем",subtitle:"UTC-6",offset:-6},"America/Rainy_River":{id:"America/Rainy_River",title:"Центральная Америка/Рейни-Ривер",subtitle:"UTC-6",offset:-6},"America/Rankin_Inlet":{id:"America/Rankin_Inlet",title:"Центральная Америка/Ранкин-Инлет",subtitle:"UTC-6",offset:-6},"America/Regina":{id:"America/Regina",title:"Центральная Америка/Реджайна",subtitle:"UTC-6",offset:-6},"America/Resolute":{id:"America/Resolute",title:"Центральная Америка/Резольют",subtitle:"UTC-6",offset:-6},"America/Swift_Current":{id:"America/Swift_Current",title:"Центральная Америка/Свифт-Керрент",subtitle:"UTC-6",offset:-6},"America/Tegucigalpa":{id:"America/Tegucigalpa",title:"Центральная Америка/Тегусигальпа",subtitle:"UTC-6",offset:-6},"America/Winnipeg":{id:"America/Winnipeg",title:"Центральная Америка/Виннипег",subtitle:"UTC-6",offset:-6},"Pacific/Easter":{id:"Pacific/Easter",title:"О-в Пасхи/о-в Пасхи",subtitle:"UTC-6",offset:-6},"Pacific/Galapagos":{id:"Pacific/Galapagos",title:"Галапагосские о-ва",subtitle:"UTC-6",offset:-6},"America/Atikokan":{id:"America/Atikokan",title:"Atikokan",subtitle:"UTC-5",offset:-5},"America/Bogota":{id:"America/Bogota",title:"Колумбия/Богота",subtitle:"UTC-5",offset:-5},"America/Cancun":{id:"America/Cancun",title:"Восточная Америка/Канкун",subtitle:"UTC-5",offset:-5},"America/Detroit":{id:"America/Detroit",title:"Восточная Америка/Детройт",subtitle:"UTC-5",offset:-5},"America/Eirunepe":{id:"America/Eirunepe",title:"Акри время/Эйрунепе",subtitle:"UTC-5",offset:-5},"America/Grand_Turk":{id:"America/Grand_Turk",title:"Восточная Америка/Гранд-Терк",subtitle:"UTC-5",offset:-5},"America/Guayaquil":{id:"America/Guayaquil",title:"Гуаякиль",subtitle:"UTC-5",offset:-5},"America/Havana":{id:"America/Havana",title:"Куба/Гавана",subtitle:"UTC-5",offset:-5},"America/Indiana/Indianapolis":{id:"America/Indiana/Indianapolis",title:"Indianapolis",subtitle:"UTC-5",offset:-5},"America/Indiana/Marengo":{id:"America/Indiana/Marengo",title:"Восточная Америка/Маренго",subtitle:"UTC-5",offset:-5},"America/Indiana/Petersburg":{id:"America/Indiana/Petersburg",title:"Восточная Америка/Питерсберг",subtitle:"UTC-5",offset:-5},"America/Indiana/Vevay":{id:"America/Indiana/Vevay",title:"Восточная Америка/Вевей",subtitle:"UTC-5",offset:-5},"America/Indiana/Vincennes":{id:"America/Indiana/Vincennes",title:"Восточная Америка/Винсеннес",subtitle:"UTC-5",offset:-5},"America/Indiana/Winamac":{id:"America/Indiana/Winamac",title:"Восточная Америка/Уинамак",subtitle:"UTC-5",offset:-5},"America/Iqaluit":{id:"America/Iqaluit",title:"Восточная Америка/Икалуит",subtitle:"UTC-5",offset:-5},"America/Jamaica":{id:"America/Jamaica",title:"Восточная Америка/Ямайка",subtitle:"UTC-5",offset:-5},"America/Kentucky/Louisville":{id:"America/Kentucky/Louisville",title:"Louisville",subtitle:"UTC-5",offset:-5},"America/Kentucky/Monticello":{id:"America/Kentucky/Monticello",title:"Восточная Америка/Монтиселло",subtitle:"UTC-5",offset:-5},"America/Lima":{id:"America/Lima",title:"Перу/Лима",subtitle:"UTC-5",offset:-5},"America/Nassau":{id:"America/Nassau",title:"Восточная Америка/Нассау",subtitle:"UTC-5",offset:-5},"America/New_York":{id:"America/New_York",title:"Восточная Америка/Нью-Йорк",subtitle:"UTC-5",offset:-5},"America/Nipigon":{id:"America/Nipigon",title:"Восточная Америка/Нипигон",subtitle:"UTC-5",offset:-5},"America/Panama":{id:"America/Panama",title:"Восточная Америка/Панама",subtitle:"UTC-5",offset:-5},"America/Pangnirtung":{id:"America/Pangnirtung",title:"Восточная Америка/Пангниртанг",subtitle:"UTC-5",offset:-5},"America/Port-au-Prince":{id:"America/Port-au-Prince",title:"Восточная Америка/Порт-о-Пренс",subtitle:"UTC-5",offset:-5},"America/Rio_Branco":{id:"America/Rio_Branco",title:"Акри время/Риу-Бранку",subtitle:"UTC-5",offset:-5},"America/Thunder_Bay":{id:"America/Thunder_Bay",title:"Восточная Америка/Тандер-Бей",subtitle:"UTC-5",offset:-5},"America/Toronto":{id:"America/Toronto",title:"Восточная Америка/Торонто",subtitle:"UTC-5",offset:-5},"America/Asuncion":{id:"America/Asuncion",title:"Парагвай/Асунсьон",subtitle:"UTC-4",offset:-4},"America/Barbados":{id:"America/Barbados",title:"Атлантическое время/Барбадос",subtitle:"UTC-4",offset:-4},"America/Blanc-Sablon":{id:"America/Blanc-Sablon",title:"Атлантическое время/Бланк-Саблон",subtitle:"UTC-4",offset:-4},"America/Boa_Vista":{id:"America/Boa_Vista",title:"Амазонка/Боа-Виста",subtitle:"UTC-4",offset:-4},"America/Campo_Grande":{id:"America/Campo_Grande",title:"Амазонка/Кампу-Гранди",subtitle:"UTC-4",offset:-4},"America/Caracas":{id:"America/Caracas",title:"Каракас",subtitle:"UTC-4",offset:-4},"America/Cuiaba":{id:"America/Cuiaba",title:"Амазонка/Куяба",subtitle:"UTC-4",offset:-4},"America/Curacao":{id:"America/Curacao",title:"Атлантическое время/Кюрасао",subtitle:"UTC-4",offset:-4},"America/Glace_Bay":{id:"America/Glace_Bay",title:"Атлантическое время/Глейс-Бей",subtitle:"UTC-4",offset:-4},"America/Goose_Bay":{id:"America/Goose_Bay",title:"Атлантическое время/Гус-Бей",subtitle:"UTC-4",offset:-4},"America/Guyana":{id:"America/Guyana",title:"Гайана",subtitle:"UTC-4",offset:-4},"America/Halifax":{id:"America/Halifax",title:"Атлантическое время/Галифакс",subtitle:"UTC-4",offset:-4},"America/La_Paz":{id:"America/La_Paz",title:"Ла-Пас",subtitle:"UTC-4",offset:-4},"America/Manaus":{id:"America/Manaus",title:"Амазонка/Манаус",subtitle:"UTC-4",offset:-4},"America/Martinique":{id:"America/Martinique",title:"Атлантическое время/Мартиника",subtitle:"UTC-4",offset:-4},"America/Moncton":{id:"America/Moncton",title:"Атлантическое время/Монктон",subtitle:"UTC-4",offset:-4},"America/Port_of_Spain":{id:"America/Port_of_Spain",title:"Атлантическое время/Порт-оф-Спейн",subtitle:"UTC-4",offset:-4},"America/Porto_Velho":{id:"America/Porto_Velho",title:"Амазонка/Порту-Велью",subtitle:"UTC-4",offset:-4},"America/Puerto_Rico":{id:"America/Puerto_Rico",title:"Атлантическое время/Пуэрто-Рико",subtitle:"UTC-4",offset:-4},"America/Santiago":{id:"America/Santiago",title:"Чили/Сантьяго",subtitle:"UTC-4",offset:-4},"America/Santo_Domingo":{id:"America/Santo_Domingo",title:"Атлантическое время/Санто-Доминго",subtitle:"UTC-4",offset:-4},"America/Thule":{id:"America/Thule",title:"Атлантическое время/Туле",subtitle:"UTC-4",offset:-4},"Atlantic/Bermuda":{id:"Atlantic/Bermuda",title:"Атлантическое время/Бермудские о-ва",subtitle:"UTC-4",offset:-4},"America/St_Johns":{id:"America/St_Johns",title:"Ньюфаундленд/Сент-Джонс",subtitle:"UTC-3",offset:-3.5},"America/Araguaina":{id:"America/Araguaina",title:"Бразилия/Арагуаина",subtitle:"UTC-3",offset:-3},"America/Argentina/Buenos_Aires":{id:"America/Argentina/Buenos_Aires",title:"Buenos Aires",subtitle:"UTC-3",offset:-3},"America/Argentina/Catamarca":{id:"America/Argentina/Catamarca",title:"Catamarca",subtitle:"UTC-3",offset:-3},"America/Argentina/Cordoba":{id:"America/Argentina/Cordoba",title:"Cordoba",subtitle:"UTC-3",offset:-3},"America/Argentina/Jujuy":{id:"America/Argentina/Jujuy",title:"Jujuy",subtitle:"UTC-3",offset:-3},"America/Argentina/La_Rioja":{id:"America/Argentina/La_Rioja",title:"Аргентина/Ла-Риоха",subtitle:"UTC-3",offset:-3},"America/Argentina/Mendoza":{id:"America/Argentina/Mendoza",title:"Mendoza",subtitle:"UTC-3",offset:-3},"America/Argentina/Rio_Gallegos":{id:"America/Argentina/Rio_Gallegos",title:"Аргентина/Рио-Гальегос",subtitle:"UTC-3",offset:-3},"America/Argentina/Salta":{id:"America/Argentina/Salta",title:"Аргентина/Сальта",subtitle:"UTC-3",offset:-3},"America/Argentina/San_Juan":{id:"America/Argentina/San_Juan",title:"Аргентина/Сан-Хуан",subtitle:"UTC-3",offset:-3},"America/Argentina/San_Luis":{id:"America/Argentina/San_Luis",title:"Аргентина/Сан-Луис",subtitle:"UTC-3",offset:-3},"America/Argentina/Tucuman":{id:"America/Argentina/Tucuman",title:"Аргентина/Тукуман",subtitle:"UTC-3",offset:-3},"America/Argentina/Ushuaia":{id:"America/Argentina/Ushuaia",title:"Аргентина/Ушуая",subtitle:"UTC-3",offset:-3},"America/Bahia":{id:"America/Bahia",title:"Бразилия/Баия",subtitle:"UTC-3",offset:-3},"America/Belem":{id:"America/Belem",title:"Бразилия/Белен",subtitle:"UTC-3",offset:-3},"America/Cayenne":{id:"America/Cayenne",title:"Кайенна",subtitle:"UTC-3",offset:-3},"America/Fortaleza":{id:"America/Fortaleza",title:"Бразилия/Форталеза",subtitle:"UTC-3",offset:-3},"America/Godthab":{id:"America/Godthab",title:"Западная Гренландия/Нуук",subtitle:"UTC-3",offset:-3},"America/Maceio":{id:"America/Maceio",title:"Бразилия/Масейо",subtitle:"UTC-3",offset:-3},"America/Miquelon":{id:"America/Miquelon",title:"Сен-Пьер и Микелон/Микелон",subtitle:"UTC-3",offset:-3},"America/Montevideo":{id:"America/Montevideo",title:"Уругвай/Монтевидео",subtitle:"UTC-3",offset:-3},"America/Paramaribo":{id:"America/Paramaribo",title:"Парамарибо",subtitle:"UTC-3",offset:-3},"America/Punta_Arenas":{id:"America/Punta_Arenas",title:"Пунта-Аренас",subtitle:"UTC-3",offset:-3},"America/Recife":{id:"America/Recife",title:"Бразилия/Ресифи",subtitle:"UTC-3",offset:-3},"America/Santarem":{id:"America/Santarem",title:"Бразилия/Сантарен",subtitle:"UTC-3",offset:-3},"America/Sao_Paulo":{id:"America/Sao_Paulo",title:"Бразилия/Сан-Паулу",subtitle:"UTC-3",offset:-3},"Antarctica/Palmer":{id:"Antarctica/Palmer",title:"Палмер",subtitle:"UTC-3",offset:-3},"Antarctica/Rothera":{id:"Antarctica/Rothera",title:"Ротера",subtitle:"UTC-3",offset:-3},"Atlantic/Stanley":{id:"Atlantic/Stanley",title:"Фолклендские о-ва/Стэнли",subtitle:"UTC-3",offset:-3},"America/Noronha":{id:"America/Noronha",title:"Фернанду-ди-Норонья/Норонья",subtitle:"UTC-2",offset:-2},"Atlantic/South_Georgia":{id:"Atlantic/South_Georgia",title:"Южная Георгия",subtitle:"UTC-2",offset:-2},"America/Scoresbysund":{id:"America/Scoresbysund",title:"Восточная Гренландия/Скорсбисунн",subtitle:"UTC-1",offset:-1},"Atlantic/Azores":{id:"Atlantic/Azores",title:"Азорские о-ва",subtitle:"UTC-1",offset:-1},"Atlantic/Cape_Verde":{id:"Atlantic/Cape_Verde",title:"Кабо-Верде",subtitle:"UTC-1",offset:-1},"Africa/Abidjan":{id:"Africa/Abidjan",title:"Абиджан",subtitle:"UTC-0",offset:0},"Africa/Accra":{id:"Africa/Accra",title:"Аккра",subtitle:"UTC-0",offset:0},"Africa/Bissau":{id:"Africa/Bissau",title:"Бисау",subtitle:"UTC-0",offset:0},"Africa/Casablanca":{id:"Africa/Casablanca",title:"Касабланка",subtitle:"UTC-0",offset:0},"Africa/El_Aaiun":{id:"Africa/El_Aaiun",title:"Эль-Аюн",subtitle:"UTC-0",offset:0},"Africa/Monrovia":{id:"Africa/Monrovia",title:"Монровия",subtitle:"UTC-0",offset:0},"Africa/Sao_Tome":{id:"Africa/Sao_Tome",title:"Сан-Томе",subtitle:"UTC-0",offset:0},"America/Danmarkshavn":{id:"America/Danmarkshavn",title:"Денмарксхавн",subtitle:"UTC-0",offset:0},"Antarctica/Troll":{id:"Antarctica/Troll",title:"Тролль",subtitle:"UTC-0",offset:0},"Atlantic/Canary":{id:"Atlantic/Canary",title:"Западная Европа/Канарские о-ва",subtitle:"UTC-0",offset:0},"Atlantic/Faroe":{id:"Atlantic/Faroe",title:"Faroe",subtitle:"UTC-0",offset:0},"Atlantic/Madeira":{id:"Atlantic/Madeira",title:"Западная Европа/Мадейра",subtitle:"UTC-0",offset:0},"Atlantic/Reykjavik":{id:"Atlantic/Reykjavik",title:"Рейкьявик",subtitle:"UTC-0",offset:0},"Europe/Dublin":{id:"Europe/Dublin",title:"Дублин",subtitle:"UTC-0",offset:0},"Europe/Lisbon":{id:"Europe/Lisbon",title:"Западная Европа/Лиссабон",subtitle:"UTC-0",offset:0},"Europe/London":{id:"Europe/London",title:"Лондон",subtitle:"UTC-0",offset:0},"Africa/Algiers":{id:"Africa/Algiers",title:"Центральная Европа/Алжир",subtitle:"UTC+1",offset:1},"Africa/Ceuta":{id:"Africa/Ceuta",title:"Центральная Европа/Сеута",subtitle:"UTC+1",offset:1},"Africa/Lagos":{id:"Africa/Lagos",title:"Западная Африка/Лагос",subtitle:"UTC+1",offset:1},"Africa/Ndjamena":{id:"Africa/Ndjamena",title:"Западная Африка/Нджамена",subtitle:"UTC+1",offset:1},"Africa/Tunis":{id:"Africa/Tunis",title:"Центральная Европа/Тунис",subtitle:"UTC+1",offset:1},"Europe/Amsterdam":{id:"Europe/Amsterdam",title:"Центральная Европа/Амстердам",subtitle:"UTC+1",offset:1},"Europe/Andorra":{id:"Europe/Andorra",title:"Центральная Европа/Андорра",subtitle:"UTC+1",offset:1},"Europe/Belgrade":{id:"Europe/Belgrade",title:"Центральная Европа/Белград",subtitle:"UTC+1",offset:1},"Europe/Berlin":{id:"Europe/Berlin",title:"Центральная Европа/Берлин",subtitle:"UTC+1",offset:1},"Europe/Brussels":{id:"Europe/Brussels",title:"Центральная Европа/Брюссель",subtitle:"UTC+1",offset:1},"Europe/Budapest":{id:"Europe/Budapest",title:"Центральная Европа/Будапешт",subtitle:"UTC+1",offset:1},"Europe/Copenhagen":{id:"Europe/Copenhagen",title:"Центральная Европа/Копенгаген",subtitle:"UTC+1",offset:1},"Europe/Gibraltar":{id:"Europe/Gibraltar",title:"Центральная Европа/Гибралтар",subtitle:"UTC+1",offset:1},"Europe/Luxembourg":{id:"Europe/Luxembourg",title:"Центральная Европа/Люксембург",subtitle:"UTC+1",offset:1},"Europe/Madrid":{id:"Europe/Madrid",title:"Центральная Европа/Мадрид",subtitle:"UTC+1",offset:1},"Europe/Malta":{id:"Europe/Malta",title:"Центральная Европа/Мальта",subtitle:"UTC+1",offset:1},"Europe/Monaco":{id:"Europe/Monaco",title:"Центральная Европа/Монако",subtitle:"UTC+1",offset:1},"Europe/Oslo":{id:"Europe/Oslo",title:"Центральная Европа/Осло",subtitle:"UTC+1",offset:1},"Europe/Paris":{id:"Europe/Paris",title:"Центральная Европа/Париж",subtitle:"UTC+1",offset:1},"Europe/Prague":{id:"Europe/Prague",title:"Центральная Европа/Прага",subtitle:"UTC+1",offset:1},"Europe/Rome":{id:"Europe/Rome",title:"Центральная Европа/Рим",subtitle:"UTC+1",offset:1},"Europe/Stockholm":{id:"Europe/Stockholm",title:"Центральная Европа/Стокгольм",subtitle:"UTC+1",offset:1},"Europe/Tirane":{id:"Europe/Tirane",title:"Центральная Европа/Тирана",subtitle:"UTC+1",offset:1},"Europe/Vienna":{id:"Europe/Vienna",title:"Центральная Европа/Вена",subtitle:"UTC+1",offset:1},"Europe/Warsaw":{id:"Europe/Warsaw",title:"Центральная Европа/Варшава",subtitle:"UTC+1",offset:1},"Europe/Zurich":{id:"Europe/Zurich",title:"Центральная Европа/Цюрих",subtitle:"UTC+1",offset:1},"Africa/Cairo":{id:"Africa/Cairo",title:"Восточная Европа/Каир",subtitle:"UTC+2",offset:2},"Africa/Johannesburg":{id:"Africa/Johannesburg",title:"Йоханнесбург",subtitle:"UTC+2",offset:2},"Africa/Juba":{id:"Africa/Juba",title:"Джуба",subtitle:"UTC+2",offset:2},"Africa/Khartoum":{id:"Africa/Khartoum",title:"Хартум",subtitle:"UTC+2",offset:2},"Africa/Maputo":{id:"Africa/Maputo",title:"Мапуту",subtitle:"UTC+2",offset:2},"Africa/Tripoli":{id:"Africa/Tripoli",title:"Восточная Европа/Триполи",subtitle:"UTC+2",offset:2},"Africa/Windhoek":{id:"Africa/Windhoek",title:"Виндхук",subtitle:"UTC+2",offset:2},"Asia/Amman":{id:"Asia/Amman",title:"Восточная Европа/Амман",subtitle:"UTC+2",offset:2},"Asia/Beirut":{id:"Asia/Beirut",title:"Восточная Европа/Бейрут",subtitle:"UTC+2",offset:2},"Asia/Damascus":{id:"Asia/Damascus",title:"Восточная Европа/Дамаск",subtitle:"UTC+2",offset:2},"Asia/Famagusta":{id:"Asia/Famagusta",title:"Фамагуста",subtitle:"UTC+2",offset:2},"Asia/Gaza":{id:"Asia/Gaza",title:"Восточная Европа/Газа",subtitle:"UTC+2",offset:2},"Asia/Hebron":{id:"Asia/Hebron",title:"Восточная Европа/Хеврон",subtitle:"UTC+2",offset:2},"Asia/Jerusalem":{id:"Asia/Jerusalem",title:"Израиль/Иерусалим",subtitle:"UTC+2",offset:2},"Asia/Nicosia":{id:"Asia/Nicosia",title:"Восточная Европа/Никосия",subtitle:"UTC+2",offset:2},"Europe/Athens":{id:"Europe/Athens",title:"Восточная Европа/Афины",subtitle:"UTC+2",offset:2},"Europe/Bucharest":{id:"Europe/Bucharest",title:"Восточная Европа/Бухарест",subtitle:"UTC+2",offset:2},"Europe/Chisinau":{id:"Europe/Chisinau",title:"Восточная Европа/Кишинев",subtitle:"UTC+2",offset:2},"Europe/Helsinki":{id:"Europe/Helsinki",title:"Восточная Европа/Хельсинки",subtitle:"UTC+2",offset:2},"Europe/Kaliningrad":{id:"Europe/Kaliningrad",title:"Восточная Европа/Калининград",subtitle:"UTC+2",offset:2},"Europe/Kiev":{id:"Europe/Kiev",title:"Восточная Европа/Киев",subtitle:"UTC+2",offset:2},"Europe/Riga":{id:"Europe/Riga",title:"Восточная Европа/Рига",subtitle:"UTC+2",offset:2},"Europe/Sofia":{id:"Europe/Sofia",title:"Восточная Европа/София",subtitle:"UTC+2",offset:2},"Europe/Tallinn":{id:"Europe/Tallinn",title:"Восточная Европа/Таллин",subtitle:"UTC+2",offset:2},"Europe/Uzhgorod":{id:"Europe/Uzhgorod",title:"Восточная Европа/Ужгород",subtitle:"UTC+2",offset:2},"Europe/Vilnius":{id:"Europe/Vilnius",title:"Восточная Европа/Вильнюс",subtitle:"UTC+2",offset:2},"Europe/Zaporozhye":{id:"Europe/Zaporozhye",title:"Восточная Европа/Запорожье",subtitle:"UTC+2",offset:2},"Africa/Nairobi":{id:"Africa/Nairobi",title:"Найроби",subtitle:"UTC+3",offset:3},"Antarctica/Syowa":{id:"Antarctica/Syowa",title:"С",subtitle:"UTC+3",offset:3},"Asia/Baghdad":{id:"Asia/Baghdad",title:"Саудовская Аравия/Багдад",subtitle:"UTC+3",offset:3},"Asia/Qatar":{id:"Asia/Qatar",title:"Саудовская Аравия/Катар",subtitle:"UTC+3",offset:3},"Asia/Riyadh":{id:"Asia/Riyadh",title:"Саудовская Аравия/Эр-Рияд",subtitle:"UTC+3",offset:3},"Europe/Istanbul":{id:"Europe/Istanbul",title:"Стамбул",subtitle:"UTC+3",offset:3},"Europe/Kirov":{id:"Europe/Kirov",title:"Киров",subtitle:"UTC+3",offset:3},"Europe/Minsk":{id:"Europe/Minsk",title:"Москва/Минск",subtitle:"UTC+3",offset:3},"Europe/Moscow":{id:"Europe/Moscow",title:"Москва",subtitle:"UTC+3",offset:3},"Europe/Simferopol":{id:"Europe/Simferopol",title:"Москва/Симферополь",subtitle:"UTC+3",offset:3},"Europe/Volgograd":{id:"Europe/Volgograd",title:"Волгоград",subtitle:"UTC+3",offset:3},"Asia/Tehran":{id:"Asia/Tehran",title:"Иран/Тегеран",subtitle:"UTC+3",offset:3.5},"Asia/Baku":{id:"Asia/Baku",title:"Азербайджан/Баку",subtitle:"UTC+4",offset:4},"Asia/Dubai":{id:"Asia/Dubai",title:"Дубай",subtitle:"UTC+4",offset:4},"Asia/Tbilisi":{id:"Asia/Tbilisi",title:"Грузия/Тбилиси",subtitle:"UTC+4",offset:4},"Asia/Yerevan":{id:"Asia/Yerevan",title:"Армения/Ереван",subtitle:"UTC+4",offset:4},"Europe/Astrakhan":{id:"Europe/Astrakhan",title:"Астрахань",subtitle:"UTC+4",offset:4},"Europe/Samara":{id:"Europe/Samara",title:"Время в Самаре/Самара",subtitle:"UTC+4",offset:4},"Europe/Saratov":{id:"Europe/Saratov",title:"Саратов",subtitle:"UTC+4",offset:4},"Europe/Ulyanovsk":{id:"Europe/Ulyanovsk",title:"Ульяновск",subtitle:"UTC+4",offset:4},"Indian/Mahe":{id:"Indian/Mahe",title:"Маэ",subtitle:"UTC+4",offset:4},"Indian/Mauritius":{id:"Indian/Mauritius",title:"Маврикий",subtitle:"UTC+4",offset:4},"Indian/Reunion":{id:"Indian/Reunion",title:"Реюньон",subtitle:"UTC+4",offset:4},"Asia/Kabul":{id:"Asia/Kabul",title:"Кабул",subtitle:"UTC+4",offset:4.5},"Antarctica/Mawson":{id:"Antarctica/Mawson",title:"Моусон",subtitle:"UTC+5",offset:5},"Asia/Aqtau":{id:"Asia/Aqtau",title:"Актау",subtitle:"UTC+5",offset:5},"Asia/Aqtobe":{id:"Asia/Aqtobe",title:"Актобе",subtitle:"UTC+5",offset:5},"Asia/Ashgabat":{id:"Asia/Ashgabat",title:"Туркменистан/Ашхабад",subtitle:"UTC+5",offset:5},"Asia/Atyrau":{id:"Asia/Atyrau",title:"Атырау",subtitle:"UTC+5",offset:5},"Asia/Dushanbe":{id:"Asia/Dushanbe",title:"Душанбе",subtitle:"UTC+5",offset:5},"Asia/Karachi":{id:"Asia/Karachi",title:"Пакистан/Карачи",subtitle:"UTC+5",offset:5},"Asia/Oral":{id:"Asia/Oral",title:"Уральск",subtitle:"UTC+5",offset:5},"Asia/Qyzylorda":{id:"Asia/Qyzylorda",title:"Кызылорда",subtitle:"UTC+5",offset:5},"Asia/Samarkand":{id:"Asia/Samarkand",title:"Узбекистан/Самарканд",subtitle:"UTC+5",offset:5},"Asia/Tashkent":{id:"Asia/Tashkent",title:"Узбекистан/Ташкент",subtitle:"UTC+5",offset:5},"Asia/Yekaterinburg":{id:"Asia/Yekaterinburg",title:"Екатеринбург",subtitle:"UTC+5",offset:5},"Indian/Kerguelen":{id:"Indian/Kerguelen",title:"Кергелен",subtitle:"UTC+5",offset:5},"Indian/Maldives":{id:"Indian/Maldives",title:"Мальдивы",subtitle:"UTC+5",offset:5},"Asia/Colombo":{id:"Asia/Colombo",title:"Коломбо",subtitle:"UTC+5",offset:5.5},"Asia/Kolkata":{id:"Asia/Kolkata",title:"Kolkata",subtitle:"UTC+5",offset:5.5},"Asia/Kathmandu":{id:"Asia/Kathmandu",title:"Kathmandu",subtitle:"UTC+5",offset:5.75},"Antarctica/Vostok":{id:"Antarctica/Vostok",title:"Восток",subtitle:"UTC+6",offset:6},"Asia/Almaty":{id:"Asia/Almaty",title:"Алматы",subtitle:"UTC+6",offset:6},"Asia/Bishkek":{id:"Asia/Bishkek",title:"Бишкек",subtitle:"UTC+6",offset:6},"Asia/Dhaka":{id:"Asia/Dhaka",title:"Бангладеш/Дакка",subtitle:"UTC+6",offset:6},"Asia/Omsk":{id:"Asia/Omsk",title:"Омск",subtitle:"UTC+6",offset:6},"Asia/Qostanay":{id:"Asia/Qostanay",title:"Костанай",subtitle:"UTC+6",offset:6},"Asia/Thimphu":{id:"Asia/Thimphu",title:"Тхимпху",subtitle:"UTC+6",offset:6},"Asia/Urumqi":{id:"Asia/Urumqi",title:"Урумчи",subtitle:"UTC+6",offset:6},"Indian/Chagos":{id:"Indian/Chagos",title:"Чагос",subtitle:"UTC+6",offset:6},"Asia/Yangon":{id:"Asia/Yangon",title:"Yangon",subtitle:"UTC+6",offset:6.5},"Indian/Cocos":{id:"Indian/Cocos",title:"Кокосовые о-ва",subtitle:"UTC+6",offset:6.5},"Antarctica/Davis":{id:"Antarctica/Davis",title:"Дейвис",subtitle:"UTC+7",offset:7},"Asia/Bangkok":{id:"Asia/Bangkok",title:"Бангкок",subtitle:"UTC+7",offset:7},"Asia/Barnaul":{id:"Asia/Barnaul",title:"Барнаул",subtitle:"UTC+7",offset:7},"Asia/Ho_Chi_Minh":{id:"Asia/Ho_Chi_Minh",title:"Ho Chi Minh",subtitle:"UTC+7",offset:7},"Asia/Hovd":{id:"Asia/Hovd",title:"Ховд",subtitle:"UTC+7",offset:7},"Asia/Jakarta":{id:"Asia/Jakarta",title:"Джакарта",subtitle:"UTC+7",offset:7},"Asia/Krasnoyarsk":{id:"Asia/Krasnoyarsk",title:"Красноярск",subtitle:"UTC+7",offset:7},"Asia/Novokuznetsk":{id:"Asia/Novokuznetsk",title:"Красноярск/Новокузнецк",subtitle:"UTC+7",offset:7},"Asia/Novosibirsk":{id:"Asia/Novosibirsk",title:"Новосибирск",subtitle:"UTC+7",offset:7},"Asia/Pontianak":{id:"Asia/Pontianak",title:"Понтианак",subtitle:"UTC+7",offset:7},"Asia/Tomsk":{id:"Asia/Tomsk",title:"Томск",subtitle:"UTC+7",offset:7},"Indian/Christmas":{id:"Indian/Christmas",title:"о-в Рождества",subtitle:"UTC+7",offset:7},"Asia/Brunei":{id:"Asia/Brunei",title:"Бруней",subtitle:"UTC+8",offset:8},"Asia/Choibalsan":{id:"Asia/Choibalsan",title:"Улан-Батор/Чойбалсан",subtitle:"UTC+8",offset:8},"Asia/Hong_Kong":{id:"Asia/Hong_Kong",title:"Гонконг",subtitle:"UTC+8",offset:8},"Asia/Irkutsk":{id:"Asia/Irkutsk",title:"Иркутск",subtitle:"UTC+8",offset:8},"Asia/Kuala_Lumpur":{id:"Asia/Kuala_Lumpur",title:"Куала-Лумпур",subtitle:"UTC+8",offset:8},"Asia/Kuching":{id:"Asia/Kuching",title:"Кучинг",subtitle:"UTC+8",offset:8},"Asia/Macau":{id:"Asia/Macau",title:"Китай/Макао",subtitle:"UTC+8",offset:8},"Asia/Makassar":{id:"Asia/Makassar",title:"Макасар",subtitle:"UTC+8",offset:8},"Asia/Manila":{id:"Asia/Manila",title:"Филиппины/Манила",subtitle:"UTC+8",offset:8},"Asia/Shanghai":{id:"Asia/Shanghai",title:"Китай/Шанхай",subtitle:"UTC+8",offset:8},"Asia/Singapore":{id:"Asia/Singapore",title:"Сингапур",subtitle:"UTC+8",offset:8},"Asia/Taipei":{id:"Asia/Taipei",title:"Тайвань/Тайбэй",subtitle:"UTC+8",offset:8},"Asia/Ulaanbaatar":{id:"Asia/Ulaanbaatar",title:"Улан-Батор",subtitle:"UTC+8",offset:8},"Australia/Perth":{id:"Australia/Perth",title:"Западная Австралия/Перт",subtitle:"UTC+8",offset:8},"Australia/Eucla":{id:"Australia/Eucla",title:"Центральная Австралия",subtitle:"UTC+8",offset:8.75},"Asia/Chita":{id:"Asia/Chita",title:"Якутск/Чита",subtitle:"UTC+9",offset:9},"Asia/Dili":{id:"Asia/Dili",title:"Дили",subtitle:"UTC+9",offset:9},"Asia/Jayapura":{id:"Asia/Jayapura",title:"Джаяпура",subtitle:"UTC+9",offset:9},"Asia/Khandyga":{id:"Asia/Khandyga",title:"Якутск/Хандыга",subtitle:"UTC+9",offset:9},"Asia/Pyongyang":{id:"Asia/Pyongyang",title:"Корея/Пхеньян",subtitle:"UTC+9",offset:9},"Asia/Seoul":{id:"Asia/Seoul",title:"Корея/Сеул",subtitle:"UTC+9",offset:9},"Asia/Tokyo":{id:"Asia/Tokyo",title:"Япония/Токио",subtitle:"UTC+9",offset:9},"Asia/Yakutsk":{id:"Asia/Yakutsk",title:"Якутск",subtitle:"UTC+9",offset:9},"Pacific/Palau":{id:"Pacific/Palau",title:"Палау",subtitle:"UTC+9",offset:9},"Australia/Adelaide":{id:"Australia/Adelaide",title:"Центральная Австралия/Аделаида",subtitle:"UTC+9",offset:9.5},"Australia/Broken_Hill":{id:"Australia/Broken_Hill",title:"Центральная Австралия/Брокен-Хилл",subtitle:"UTC+9",offset:9.5},"Australia/Darwin":{id:"Australia/Darwin",title:"Центральная Австралия/Дарвин",subtitle:"UTC+9",offset:9.5},"Antarctica/DumontDUrville":{id:"Antarctica/DumontDUrville",title:"Дюмон-д",subtitle:"UTC+10",offset:10},"Antarctica/Macquarie":{id:"Antarctica/Macquarie",title:"Восточная Австралия/Маккуори",subtitle:"UTC+10",offset:10},"Asia/Ust-Nera":{id:"Asia/Ust-Nera",title:"Владивосток/Усть-Нера",subtitle:"UTC+10",offset:10},"Asia/Vladivostok":{id:"Asia/Vladivostok",title:"Владивосток",subtitle:"UTC+10",offset:10},"Australia/Brisbane":{id:"Australia/Brisbane",title:"Восточная Австралия/Брисбен",subtitle:"UTC+10",offset:10},"Australia/Currie":{id:"Australia/Currie",title:"Восточная Австралия/Керри",subtitle:"UTC+10",offset:10},"Australia/Hobart":{id:"Australia/Hobart",title:"Восточная Австралия/Хобарт",subtitle:"UTC+10",offset:10},"Australia/Lindeman":{id:"Australia/Lindeman",title:"Восточная Австралия/Линдеман",subtitle:"UTC+10",offset:10},"Australia/Melbourne":{id:"Australia/Melbourne",title:"Восточная Австралия/Мельбурн",subtitle:"UTC+10",offset:10},"Australia/Sydney":{id:"Australia/Sydney",title:"Восточная Австралия/Сидней",subtitle:"UTC+10",offset:10},"Pacific/Chuuk":{id:"Pacific/Chuuk",title:"Chuuk",subtitle:"UTC+10",offset:10},"Pacific/Guam":{id:"Pacific/Guam",title:"Гуам",subtitle:"UTC+10",offset:10},"Pacific/Port_Moresby":{id:"Pacific/Port_Moresby",title:"Порт-Морсби",subtitle:"UTC+10",offset:10},"Australia/Lord_Howe":{id:"Australia/Lord_Howe",title:"Лорд-Хау",subtitle:"UTC+10",offset:10.5},"Antarctica/Casey":{id:"Antarctica/Casey",title:"Кейси",subtitle:"UTC+11",offset:11},"Asia/Magadan":{id:"Asia/Magadan",title:"Магадан",subtitle:"UTC+11",offset:11},"Asia/Sakhalin":{id:"Asia/Sakhalin",title:"Сахалин/о-в Сахалин",subtitle:"UTC+11",offset:11},"Asia/Srednekolymsk":{id:"Asia/Srednekolymsk",title:"Среднеколымск",subtitle:"UTC+11",offset:11},"Pacific/Bougainville":{id:"Pacific/Bougainville",title:"Бугенвиль",subtitle:"UTC+11",offset:11},"Pacific/Efate":{id:"Pacific/Efate",title:"Вануату/Эфате",subtitle:"UTC+11",offset:11},"Pacific/Guadalcanal":{id:"Pacific/Guadalcanal",title:"Гуадалканал",subtitle:"UTC+11",offset:11},"Pacific/Kosrae":{id:"Pacific/Kosrae",title:"Косрае",subtitle:"UTC+11",offset:11},"Pacific/Norfolk":{id:"Pacific/Norfolk",title:"Норфолк",subtitle:"UTC+11",offset:11},"Pacific/Noumea":{id:"Pacific/Noumea",title:"Новая Каледония/Нумеа",subtitle:"UTC+11",offset:11},"Pacific/Pohnpei":{id:"Pacific/Pohnpei",title:"Pohnpei",subtitle:"UTC+11",offset:11},"Asia/Anadyr":{id:"Asia/Anadyr",title:"Время по Анадырю/Анадырь",subtitle:"UTC+12",offset:12},"Asia/Kamchatka":{id:"Asia/Kamchatka",title:"Петропавловск-Камчатский",subtitle:"UTC+12",offset:12},"Pacific/Auckland":{id:"Pacific/Auckland",title:"Новая Зеландия/Окленд",subtitle:"UTC+12",offset:12},"Pacific/Fiji":{id:"Pacific/Fiji",title:"Фиджи",subtitle:"UTC+12",offset:12},"Pacific/Funafuti":{id:"Pacific/Funafuti",title:"Фунафути",subtitle:"UTC+12",offset:12},"Pacific/Kwajalein":{id:"Pacific/Kwajalein",title:"Кваджалейн",subtitle:"UTC+12",offset:12},"Pacific/Majuro":{id:"Pacific/Majuro",title:"Маджуро",subtitle:"UTC+12",offset:12},"Pacific/Nauru":{id:"Pacific/Nauru",title:"Науру",subtitle:"UTC+12",offset:12},"Pacific/Tarawa":{id:"Pacific/Tarawa",title:"Тарава",subtitle:"UTC+12",offset:12},"Pacific/Wake":{id:"Pacific/Wake",title:"Уэйк",subtitle:"UTC+12",offset:12},"Pacific/Wallis":{id:"Pacific/Wallis",title:"Уоллис",subtitle:"UTC+12",offset:12},"Pacific/Chatham":{id:"Pacific/Chatham",title:"Чатем",subtitle:"UTC+12",offset:12.75},"Pacific/Apia":{id:"Pacific/Apia",title:"Апиа",subtitle:"UTC+13",offset:13},"Pacific/Enderbury":{id:"Pacific/Enderbury",title:"о-в Эндербери",subtitle:"UTC+13",offset:13},"Pacific/Fakaofo":{id:"Pacific/Fakaofo",title:"Факаофо",subtitle:"UTC+13",offset:13},"Pacific/Tongatapu":{id:"Pacific/Tongatapu",title:"Тонга/Тонгатапу",subtitle:"UTC+13",offset:13},"Pacific/Kiritimati":{id:"Pacific/Kiritimati",title:"Киритимати",subtitle:"UTC+14",offset:14}};!function(e){e["1day"]="1day",e["30minutes"]="30minutes",e["45minutes"]="45minutes",e["1hour"]="1hour",e["2hours"]="2hours",e["3hours"]="3hours",e["4hours"]="4hours",e["5hours"]="5hours"}(n||(n={}));var o,u,d=((i={})[n["1day"]]=24*s.HOUR,i[n["30minutes"]]=30*s.MINUTE,i[n["45minutes"]]=45*s.MINUTE,i[n["1hour"]]=s.HOUR,i[n["2hours"]]=2*s.HOUR,i[n["3hours"]]=3*s.HOUR,i[n["4hours"]]=4*s.HOUR,i[n["5hours"]]=5*s.HOUR,i),c=((r={})[n["1day"]]="calls_day",r[n["30minutes"]]="calls_min",r[n["45minutes"]]="calls_min",r[n["1hour"]]="calls_hour",r[n["2hours"]]="calls_hour",r[n["3hours"]]="calls_hour",r[n["4hours"]]="calls_hour",r[n["5hours"]]="calls_hour",r);!function(e){e.iCloud="iCloud",e.Google="Google",e.Outlook="Outlook",e.Other="Other"}(o||(o={})),function(e){e.Allowed="unmute",e.DisabledOnEnter="mute",e.Disabled="mute_permanent"}(u||(u={}));var f=36e5,p=new Intl.NumberFormat("ru-RU",{minimumIntegerDigits:2}),_=new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit"}),m=new Intl.NumberFormat("en-US",{signDisplay:"exceptZero"})},60120:(e,t,a)=>{"use strict";var i;a.d(t,{ERepeatCallVariant:()=>i}),function(e){e.Daily="daily",e.Weekly="weekly",e.WeeklyOnDayType="same_week_day",e.Monthly="monthly",e.Yearly="yearly",e.Never="never"}(i||(i={}))},73521:(e,t,a)=>{"use strict";a.d(t,{useCalendarEventDetails:()=>u});var i=a(67294),r=a(25685),n=a(59247),s=a(62833),l=a(82659),o=a(60120),u=function(e){var t=e.meParticipant,a=(0,n.useLocale)().locale,u=(0,r.useLang)().getLang,d=function(e){var t=e.locale,a=(0,i.useMemo)((function(){return"ru"===t?new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"long",year:"numeric"}):new Intl.DateTimeFormat("en-US",{day:"2-digit",month:"long",year:"numeric"})}),[t]),r=(0,i.useMemo)((function(){return"ru"===t?new Intl.DateTimeFormat("ru-RU",{hour12:!1,hour:"2-digit",minute:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"})}),[t]);return{formatter:(0,i.useMemo)((function(){var e="ru"===t?"ru-RU":"en-US";return new Intl.DateTimeFormat(e,{day:"2-digit",month:"long",year:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})}),[t]),dateFormatter:a,timeFormatter:r}}({locale:a}),c=d.dateFormatter,f=d.timeFormatter,p=d.formatter,_=(0,i.useCallback)((function(e){var t;if(!e)return"";var a="";return e.timezone&&(a=" (UTC"+l.numberWithSignFormatter.format((null===(t=l.timezones[e.timezone])||void 0===t?void 0:t.offset)||0)+")"),p.format(e.start)+a}),[u,c,f,p]);return{getDescription:(0,i.useCallback)((function(e){if(!e||!e.start)return"";var a=u("calls_name_invited").replace("{name}",e.displayName||(null==t?void 0:t.name)||"")+":\n";return e.title!==u("calls_default_meeting_name")&&(a+="«"+e.title+"»",a+="\n"),e.repeatRule!==o.ERepeatCallVariant.Never?a+=(0,s.getOptionText)(e.start,e.repeatRule,u):a+=_(e),a+="\n\n",a+=u("calls_join_by_link")+":",a+="\n",a+=e.join_link}),[t,_]),getTitle:_}}},73628:(e,t,a)=>{"use strict";a.d(t,{useDateTimeValues:()=>g});var i,r=a(70655),n=a(67294),s=a(65391),l=a(72629),o=a(82659),u=a(59397);!function(e){e.SetDuration="set-duration",e.SetDateStart="set-date-start",e.SetDateEnd="set-date-end",e.ResetStartTime="reset-start-time",e.ResetEndTime="reset-end-time",e.SetRruleEnd="set-rrule-end"}(i||(i={}));var d=function(e,t){switch(t.type){case i.SetDuration:var a=t.data;if(e.duration===a)return e;var n=function(){var t={date:e.dateStart,time:e.timeStart};if(a===o.EDuration["1day"])t.date=new Date(e.dateStart.getFullYear(),e.dateStart.getMonth(),e.dateStart.getDate()),t.time=f(t.date);else if(e.duration===o.EDuration["1day"]){var i=e.roundToNearestMinutes;t.date=(0,s.getDateProxy)({roundToNearestMinutes:i,passedDate:e.dateStart,passedTime:f(new Date)}),t.time=f(t.date)}return t}(),u=(0,l.getNextDateTime)(n.date,n.time,c({duration:a})),d=p(e.rruleDateEnd,u.date);return(0,r.__assign)((0,r.__assign)({},e),{duration:t.data,dateEnd:u.date,timeEnd:u.time,dateStart:n.date,timeStart:n.time,rruleDateEnd:d.date});case i.SetDateStart:var m=e.duration,h=t.data,v=h.date,g=h.time;u=(0,l.getNextDateTime)(v,g,c({duration:m})),d=p(e.rruleDateEnd,u.date);return(0,r.__assign)((0,r.__assign)({},e),{dateStart:v,timeStart:g,dateEnd:u.date,timeEnd:u.time,rruleDateEnd:d.date});case i.SetDateEnd:var C=e.rruleDateEnd,b=t.data;v=b.date,g=b.time,d=p(C,v);return(0,r.__assign)((0,r.__assign)({},e),{dateEnd:v,timeEnd:g,duration:void 0,rruleDateEnd:d.date});case i.ResetStartTime:var y=e.roundToNearestMinutes;C=e.rruleDateEnd,g=f(v=(0,s.getDateProxy)({roundToNearestMinutes:y})),m=e.duration===o.EDuration["1day"]?o.EDuration["30minutes"]:e.duration,d=p(C,(u=(0,l.getNextDateTime)(v,g,c({duration:m}))).date);return(0,r.__assign)((0,r.__assign)({},e),{dateStart:v,timeStart:g,dateEnd:u.date,timeEnd:u.time,duration:m,rruleDateEnd:d.date});case i.ResetEndTime:y=e.roundToNearestMinutes,C=e.rruleDateEnd,g=f(v=(0,s.getDateProxy)({roundToNearestMinutes:y})),d=p(C,v);return(0,r.__assign)((0,r.__assign)({},e),{dateEnd:v,timeEnd:g,duration:void 0,rruleDateEnd:d.date});case i.SetRruleEnd:d=_(t.data.date);return(0,r.__assign)((0,r.__assign)({},e),{rruleDateEnd:d.date,rruleTimeEnd:d.time});default:return e}};function c(e){var t,a=e.call,i=e.duration;return(0,u.isUndefined)(i)?(null===(t=null==a?void 0:a.schedule)||void 0===t?void 0:t.duration)?1e3*a.schedule.duration:0:o.DURATION_MAP[i]}function f(e){return{hours:e.getHours(),minutes:e.getMinutes()}}function p(e,t){var a={date:e,time:f(e)};if(t.valueOf()>e.valueOf()){var i=_(t);a.date=i.date}return a}function _(e){var t=(0,u.isNumber)(e)?new Date(e):e,a=new Date(t);return a.setHours(23,59,59,0),{date:a,time:f(a)}}var m=a(62833),h=a(60120),v=function(e){var t,a,i,n,u=e.call,d=u?(i=o.DURATION_MAP,n={},Object.entries(i).forEach((function(e){var t=(0,r.__read)(e,2),a=t[0],i=t[1];n[i]=a})),n)[1e3*((null===(t=u.schedule)||void 0===t?void 0:t.duration)||0)]:o.EDuration["30minutes"],f=u?new Date(1e3*((null===(a=u.schedule)||void 0===a?void 0:a.time)||0)):new Date,p=u?f:(0,s.getDateProxy)({passedDate:f,roundToNearestMinutes:30}),m={hours:p.getHours(),minutes:p.getMinutes()},h=(0,l.getNextDateTime)(p,m,c({call:u,duration:d})),v=h.date,g=h.time,C=(null==u?void 0:u.schedule.recurrence_until_time)?_(1e3*(null==u?void 0:u.schedule.recurrence_until_time)):_(v);return{duration:d,dateStart:p,timeStart:m,dateEnd:v,timeEnd:g,roundToNearestMinutes:30,rruleDateEnd:C.date,rruleTimeEnd:C.time}},g=function(e){var t,a=(0,s.useChosenDateText)().getChosenDateText,u=(0,r.__read)((0,n.useReducer)(d,e,v),2),c=u[0],f=u[1],p=c.duration===o.EDuration["1day"],_=(0,n.useMemo)((function(){var e=(0,l.getDateTimeValue)(c.dateStart,c.timeStart);return(0,l.getDateTimeValue)(c.dateEnd,c.timeEnd)-e}),[c.dateStart,c.timeStart,c.dateEnd,c.timeEnd]),g=(0,n.useMemo)((function(){return(0,l.getDateTimeValue)(c.dateStart,c.timeStart)}),[c.dateStart,c.timeStart]),C=(0,n.useCallback)((function(e){f({type:i.SetDuration,data:e.value})}),[]),b=(0,n.useMemo)((function(){var t;return{date:c.dateStart,time:c.timeStart,onChange:function(e,t){f({type:i.SetDateStart,data:{date:e,time:t}})},onReset:function(){f({type:i.ResetStartTime})},chosenDateText:a(c.dateStart,c.timeStart,p),disableDateSelect:(0,m.mapRecurrenceRule)(null===(t=e.call)||void 0===t?void 0:t.schedule.recurrence_rule)!==h.ERepeatCallVariant.Never}}),[c.dateStart,c.timeStart,p,null===(t=e.call)||void 0===t?void 0:t.schedule.recurrence_rule]),y=(0,n.useMemo)((function(){return{date:c.dateEnd,time:c.timeEnd,onChange:function(e,t){f({type:i.SetDateEnd,data:{date:e,time:t}})},onReset:function(){f({type:i.ResetEndTime})},chosenDateText:p?a(c.dateStart,c.timeStart,p):a(c.dateEnd,c.timeEnd,p)}}),[c.dateEnd,c.timeEnd,p,c.dateStart,c.timeStart]),A=(0,n.useMemo)((function(){return{date:c.rruleDateEnd,time:c.rruleTimeEnd,chosenDateText:"",onChange:function(e,t){f({type:i.SetRruleEnd,data:{date:e,time:t}})}}}),[c.rruleDateEnd,c.rruleTimeEnd]);return{dateStartCtx:b,dateEndCtx:y,duration:c.duration,handleChangeDuration:C,durationMs:_,startTimeMs:g,isAllDay:p,rruleEndCtx:A}}},20659:(e,t,a)=>{"use strict";a.d(t,{useOptions:()=>d});var i=a(70655),r=a(67294),n=a(53996),s=a(25685),l=a(78658),o=a(82280),u=a(82659),d=function(){var e=(0,s.useLang)().getLang,t=(0,r.useMemo)((function(){var t;return(t={})[u.EMediaPermission.Allowed]=e("calls_create_call_by_link_phone_option_allow_always"),t[u.EMediaPermission.DisabledOnEnter]=e("calls_create_call_by_link_phone_option_disallow_entrance"),t[u.EMediaPermission.Disabled]=e("calls_create_call_by_link_phone_option_disallow_always"),t}),[e]),a=(0,r.useMemo)((function(){var t,a,r=n.browser.os(),s=[];try{for(var o=(0,i.__values)(Object.values(u.ECalendar)),d=o.next();!d.done;d=o.next()){var c=d.value;switch(c){case u.ECalendar.Outlook:(0,l.hasIn)(r,"Windows","MacOS")&&s.push({label:c,value:c});break;case u.ECalendar.iCloud:(0,l.hasIn)(r,"MacOS")&&s.push({label:c,value:c});break;case u.ECalendar.Google:var f=e("calls_calendar").replace("{name}",u.ECalendar.Google);s.push({label:f,value:c});break;case u.ECalendar.Other:f=e("calls_will_add_to_another_calendar");s.push({label:f,value:c})}}}catch(e){t={error:e}}finally{try{d&&!d.done&&(a=o.return)&&a.call(o)}finally{if(t)throw t.error}}return s}),[e]),d=(0,r.useMemo)((function(){return Object.keys(u.EMediaPermission).map((function(e){return{label:t[u.EMediaPermission[e]],value:u.EMediaPermission[e]}}))}),[e]),c=(0,r.useMemo)((function(){var t=function(e,t,a){switch(e){case"m":return a("calls_min",t).replace("{time}",t.toString());case"h":return a("calls_hour_v2",t).replace("{hours}",t.toString());case"d":return a("calls_all_day")}};return Object.values(u.EDuration).map((function(a){var i=u.DURATION_LANG_MAP[a],r=function(){switch(i){case"calls_min":return{value:u.DURATION_MAP[a]/o.MINUTE,type:"m"};case"calls_hour":return{value:u.DURATION_MAP[a]/o.HOUR,type:"h"};default:return{value:u.DURATION_MAP[a]/o.DAY,type:"d"}}}(),n=r.value,s=r.type;return{label:t(s,n,e),value:a}}))}),[e]);return{calendarOptions:a,durationOptions:c,mediaOptions:d}}},45391:(e,t,a)=>{"use strict";a.d(t,{useRRuleEndValue:()=>u});var i,r=a(70655),n=a(67294),s=a(95418),l=a(65391),o=a(25685);!function(e){e[e.Never=0]="Never",e[e.Date=1]="Date"}(i||(i={}));var u=function(e){var t=e.recurrenceUntilTime,a=e.date,u=e.time,d=e.onChange,c=(0,o.useLang)().getLang,f=(0,l.useChosenDateText)().getChosenDateText,p=(0,n.useRef)(null),_=(0,r.__read)((0,n.useState)(!!t),2),m=_[0],h=_[1],v=(0,n.useCallback)((function(e,t){h(!0),d(e,t)}),[d]),g=(0,n.useCallback)((function(e){var t,a;switch(e){case i.Date:null===(a=null===(t=p.current)||void 0===t?void 0:t.click)||void 0===a||a.call(t);break;case i.Never:h(!1)}}),[]),C=(0,n.useMemo)((function(){return[{value:i.Never,label:c("calls_never")},{value:i.Date,label:c(m?"calls_change_date":"calls_choose_date")}]}),[a,m]),b=(0,s.useFormSelectValue)({options:C,initialValue:function(){return t?i.Date:i.Never},onChange:g}),y=b.value===i.Date?f(a,u,!0):b.label,A=b.value===i.Date?a:null;return{date:a,time:u,handleChangeDatePicker:v,selectProps:b,refDropdownTrigger:p,placeholder:y,value:A}}},72716:(e,t,a)=>{"use strict";a.d(t,{useRepeatCallOptions:()=>o});var i=a(67294),r=a(25685),n=a(95418),s=a(60120),l=a(62833),o=function(e){var t=e.date,a=e.initialValue,o=void 0===a?s.ERepeatCallVariant.Never:a,u=(0,r.useLang)().getLang,d=(0,i.useMemo)((function(){return[{value:s.ERepeatCallVariant.Never,label:(0,l.getOptionText)(t,s.ERepeatCallVariant.Never,u)},{value:s.ERepeatCallVariant.Daily,label:(0,l.getOptionText)(t,s.ERepeatCallVariant.Daily,u)},{value:s.ERepeatCallVariant.Weekly,label:(0,l.getOptionText)(t,s.ERepeatCallVariant.Weekly,u)},{value:s.ERepeatCallVariant.WeeklyOnDayType,label:(0,l.getOptionText)(t,s.ERepeatCallVariant.WeeklyOnDayType,u)},{value:s.ERepeatCallVariant.Monthly,label:(0,l.getOptionText)(t,s.ERepeatCallVariant.Monthly,u)},{value:s.ERepeatCallVariant.Yearly,label:(0,l.getOptionText)(t,s.ERepeatCallVariant.Yearly,u)}]}),[t]);return(0,n.useFormSelectValue)({options:d,initialValue:o})}},26075:(e,t,a)=>{"use strict";a.d(t,{useSelectTimezonesScrollOnOpen:()=>n});var i=a(70655),r=a(67294),n=function(e){var t=e.selector;(0,r.useEffect)((function(){if(window.hasOwnProperty("MutationObserver")){var e=document.querySelector("."+t),a=document.querySelector("."+t+" input");if(e&&a){var r=new MutationObserver((function(t){var a,r,n,s,l;try{for(var o=(0,i.__values)(t),u=o.next();!u.done;u=o.next()){var d=u.value;if("childList"===d.type){var c=function(t){if(!(t instanceof HTMLElement&&t.classList.contains("CallsSelect__menu")))return"continue";var a=t.querySelector(".CallsSelect__option--selected");if(!a)return"continue";var i=e.getBoundingClientRect(),r=a.getBoundingClientRect().top-i.top-i.height;requestAnimationFrame((function(){t.scrollTo({top:r})}))};try{for(var f=(n=void 0,(0,i.__values)(d.addedNodes)),p=f.next();!p.done;p=f.next()){c(p.value)}}catch(e){n={error:e}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(n)throw n.error}}}else if("attributes"===d.type){if(!(d.target instanceof HTMLInputElement))continue;null===(l=e.querySelector(".CallsSelect__menu"))||void 0===l||l.scrollTo({top:0})}}}catch(e){a={error:e}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}}));return r.observe(e,{childList:!0}),r.observe(a,{attributes:!0}),function(){r.disconnect()}}}}),[t])}},4182:(e,t,a)=>{"use strict";a.d(t,{useTimezones:()=>o});var i=a(70655),r=a(67294),n=a(78658),s=a(95418),l=a(82659),o=function(e){var t,a=(void 0===e?{}:e).initialTimezone,o="ru"===((null===(t=window.langConfig)||void 0===t?void 0:t.locale)||"ru")?"title":"id",d=(0,i.__read)((0,r.useState)((function(){return(0,n.getCallable)(a)||(new Intl.DateTimeFormat).resolvedOptions().timeZone})),1)[0],c=(0,r.useMemo)((function(){var e=l.timezones[d];if(e)return{label:u(e,o),value:e.id}}),[d,o]),f=(0,r.useMemo)((function(){return(0,n.objectReduce)(l.timezones,(function(e,t){return e.push({label:u(t,o),value:t.id}),e}),[])}),[o]);return(0,s.useFormSelectValue)({options:f,initialValue:null==c?void 0:c.value})};function u(e,t){var a=e.offset>=0?"+"+e.offset:e.offset;return e[t]+", UTC"+a}},7533:(e,t,a)=>{"use strict";a.d(t,{useUserOptions:()=>s});var i=a(67294),r=a(95418),n=a(25685),s=function(e){var t=e.options,a=e.myUserId,s=e.forceShow,l=(0,n.useLang)().getLang,o=(0,i.useRef)([]),u=(0,r.useFormSelectValue)({options:t||o.current}),d=!!(s||t&&t.length>1),c=(0,i.useMemo)((function(){return u.value===a?l("calls_from_myself"):u.label}),[u.value,u.options,u.label]),f=(0,i.useMemo)((function(){var e=null==t?void 0:t.find((function(e){return e.value===u.value}));return e&&(e.profile.photo_100||e.profile.photo_50||e.profile.photo_200)||""}),[u.value,t]);return{isShow:d,select:u,displayName:c,avatarUrl:f}}},62833:(e,t,a)=>{"use strict";a.d(t,{dateToUnixTimestamp:()=>u,google:()=>f,openLinkInNewTab:()=>p,ics:()=>v,getWeekDayLang:()=>C,getOptionText:()=>b,mapRecurrenceRule:()=>A,mapGoogleIcsUrl:()=>S,getUserSelectOptions:()=>E,mapFormData:()=>D});var i=a(70655),r=a(33483),n=a(78658),s=a(60120),l=a(82659),o=a(59397),u=function(e){return"number"==typeof e?Math.round(e/1e3):Math.round(e.valueOf()/1e3)},d=function(e,t,a){void 0===t&&(t=l.hour),void 0===a&&(a=!1);var i=e.valueOf(),r=i+t;if(a){var n=60*(new Date).getTimezoneOffset()*1e3;i+=n,r+=n}return{start:u(i),end:u(r)}},c=function(e,t){var a,i="number"==typeof e?new Date(e):e;if(!t)return i;var r=60*((null===(a=l.timezones[t])||void 0===a?void 0:a.offset)||0)*60*1e3,n=60*i.getTimezoneOffset()*1e3,s=i.valueOf()-r-n;return new Date(s)},f=function(e){var t=c(e.start,e.timezone),a=d(t,e.duration,!0),i=a.end,r={action:"TEMPLATE",dates:_(1e3*a.start)+"/"+_(1e3*i),text:e.title,details:e.description,location:e.location,trp:!0},n=new URLSearchParams(r);return e.repeatRule&&n.append("recur","RRULE:"+m(e.start,e.repeatRule,e.repeatRuleEnd)),"https://calendar.google.com/calendar/render?"+n.toString()},p=function(e,t,a){void 0===a&&(a=!0);var i=document.createElement("a");i.download="VK_Calls_Meeting_"+l.dateFormatter.format(t)+".ics",Object.assign(i,{target:a?"_blank":"_self",href:e}).click(),i.remove()};function _(e){var t="number"==typeof e?new Date(e):e,a=t.getFullYear().toString();return a+=l.numberFormatter.format(t.getMonth()+1),a+=l.numberFormatter.format(t.getDate()),a+="T",a+=l.numberFormatter.format(t.getHours()),a+=l.numberFormatter.format(t.getMinutes()),a+="00Z"}function m(e,t,a){var i="";switch(t){case s.ERepeatCallVariant.Never:case void 0:break;case s.ERepeatCallVariant.Daily:i="FREQ=DAILY;INTERVAL=1";break;case s.ERepeatCallVariant.Monthly:i="FREQ=MONTHLY;BYMONTHDAY="+e.getDate()+";INTERVAL=1";break;case s.ERepeatCallVariant.Weekly:i="FREQ=WEEKLY;INTERVAL=1";break;case s.ERepeatCallVariant.WeeklyOnDayType:i=g(e)?"FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR;INTERVAL=1":"FREQ=WEEKLY;BYDAY=SU,SA;INTERVAL=1";break;case s.ERepeatCallVariant.Yearly:i="FREQ=YEARLY;BYMONTH="+(e.getMonth()+1)+";BYMONTHDAY="+e.getDate()}if(a)switch(t){case s.ERepeatCallVariant.Daily:case s.ERepeatCallVariant.Monthly:case s.ERepeatCallVariant.Weekly:case s.ERepeatCallVariant.WeeklyOnDayType:case s.ERepeatCallVariant.Yearly:i+=";UNTIL="+_(a)}return i}var h=function(e){return e.replace(/,/gm,",").replace(/;/gm,";").replace(/\r\n/gm,"\n").replace(/\n/gm,"\\n").replace(/(\\n)[\s\t]+/gm,"\\n")},v=function(e){var t=h(e.description||""),a=h(e.location||""),i=d(e.start,e.duration),r=i.start,n=i.end,s=e.timezone||(new Intl.DateTimeFormat).resolvedOptions().timeZone,l=_(1e3*r),o=_(1e3*n),u=[{key:"BEGIN",value:"VCALENDAR"},{key:"VERSION",value:"2.0"},{key:"PRODID",value:"-//VK//VK Calls Web//"},{key:"CALSCALE",value:"GREGORIAN"},{key:"METHOD",value:"PUBLISH"},{key:"CLASS",value:"PUBLIC"},{key:"TZURL",value:"http://tzurl.org/zoneinfo-outlook/"+s},{key:"X-LIC-LOCATION",value:s},{key:"BEGIN",value:"VTIMEZONE"},{key:"TZID",value:s},{key:"END",value:"VTIMEZONE"},{key:"BEGIN",value:"VEVENT"},{key:"CREATED",value:l},{key:"DTSTART",value:"TZID="+s+":"+l.slice(0,-1)},{key:"DTEND",value:"TZID="+s+":"+o.slice(0,-1)},{key:"TZID",value:s},{key:"SUMMARY",value:e.title},{key:"DESCRIPTION",value:t},{key:"LOCATION",value:a},{key:"ORGANIZER",value:e.organizer},{key:"RRULE",value:m(e.start,e.repeatRule,e.repeatRuleEnd)},{key:"END",value:"VEVENT"},{key:"END",value:"VCALENDAR"}],c="";return u.forEach((function(e){if(e.value)switch(!0){case"DTSTART"===e.key:case"DTEND"===e.key:c+=e.key+";"+encodeURIComponent(e.value+"\n");break;case"ORGANIZER"==e.key:var t=e.value;c+=e.key+";"+encodeURIComponent("CN="+t.name+":MAILTO:"+t.email+"\n");break;default:c+=e.key+":"+encodeURIComponent(e.value+"\n")}})),"data:text/calendar;charset=utf8,"+c};function g(e){switch(e.getDay()){case 0:case 6:return!1;default:return!0}}var C=function(e,t){switch(e){case 0:return t("calls_on_sunday");case 1:return t("calls_on_monday");case 2:return t("calls_on_tuesday");case 3:return t("calls_on_wednesday");case 4:return t("calls_on_thursday");case 5:return t("calls_on_friday");case 6:return t("calls_on_saturday")}},b=function(e,t,a){switch(t){case s.ERepeatCallVariant.Daily:return a("calls_every_day");case s.ERepeatCallVariant.Monthly:return a("calls_day_of_each_month").replace("{date}",e.getDate());case s.ERepeatCallVariant.Weekly:return function(e,t){switch(e.getDay()){case 0:return t("calls_on_each_sunday");case 1:return t("calls_on_each_monday");case 2:return t("calls_on_each_tuesday");case 3:return t("calls_on_each_wednesday");case 4:return t("calls_on_each_thursday");case 5:return t("calls_on_each_friday");case 6:return t("calls_on_each_saturday");default:return""}}(e,a);case s.ERepeatCallVariant.WeeklyOnDayType:return(0,n.capitalize)((0,r.getTypeOfDay)(e,a));case s.ERepeatCallVariant.Yearly:return a("calls_each_year");case s.ERepeatCallVariant.Never:return a("calls_never")}},y=function(e,t){switch(t){case s.ERepeatCallVariant.WeeklyOnDayType:return g(e)?"weekdays":"weekend";case void 0:return"never";default:return t}},A=function(e){switch(e){case"weekdays":case"weekend":return s.ERepeatCallVariant.WeeklyOnDayType;case void 0:return s.ERepeatCallVariant.Never;default:return e}},T=function(e,t){return(null==e?void 0:e.location)?e.location:t("calls_default_meeting_name")},S=function(e,t){return{start:e.start,title:e.title,description:e.description,repeatRule:e.repeatRule,location:T(e,t),duration:e.duration,timezone:e.timezone,repeatRuleEnd:e.repeatRuleEnd}},E=function(e){if(e)return[{value:e.id,label:e.name,profile:(0,i.__assign)((0,i.__assign)({},e),{photo_100:e.photo})}]},M=function(e){var t,a=c(new Date(e.start),e.timezone),i=u(a),r={mute_audio:e.muteAudio,mute_video:e.muteVideo,mute_screen_sharing:e.muteVideo,name:e.name,only_auth_users:e.onlyAuthUsers,duration:(t=e.duration,Math.round(t/1e3)),time:i,recurrence_rule:y(a,e.rrule),waiting_hall:e.waitingHall};return(0,o.isUndefined)(e.groupId)||(r.group_id=e.groupId),(0,o.isUndefined)(e.skipNotification)||(r.skip_notification=e.skipNotification),e.rrule!==s.ERepeatCallVariant.Never&&((0,o.isUndefined)(e.recurrenceUntilTime)||(r.recurrence_until_time=function(e,t){if(e){var a="number"==typeof e?new Date(e):e,i=c(a,t);return u(i)}}(e.recurrenceUntilTime))),r};function D(e,t){return t?function(e,t){var a=(0,i.__assign)((0,i.__assign)({},M(e)),{call_id:t.call_id});return e.markerTime&&(a.marker_time=e.markerTime),a}(e,t):M(e)}},767:(e,t,a)=>{"use strict";a.d(t,{Description:()=>D,ScheduledCallRow:()=>U});var i=a(70655),r=a(85893),n=a(67294),s=a(87255),l=a(88420),o=a(19316),u=a(53449);const d=(0,a(63192).makeIcon)("Icon12Repost","repost_12","0 0 12 12",'<symbol fill="none" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg" id="repost_12"><path d="M7.58.915 7.64.83a.6.6 0 0 1 .755-.138l.09.062 2.773 2.313.047.05a.6.6 0 0 1 0 .768l-.077.077-2.744 2.286a.6.6 0 0 1-.976-.363L7.5 5.787V4.5H4a1 1 0 0 0-.993.883L3 5.5V8a1 1 0 0 0 .883.993L4 9h4a1 1 0 0 1 .117 1.993L8 11H4a3 3 0 0 1-2.995-2.824L1 8V5.5a3 3 0 0 1 2.824-2.995L4 2.5h3.5V1.213a.6.6 0 0 1 .08-.299L7.64.83z" fill="currentColor" /></symbol>',12,12,!1,void 0);var c=a(6057),f=a(99990),p=a(24600),_=a(93047),m=a(67458),h=a(39446),v=a(81536),g=a(3065),C=a(25685),b=a(59247),y=a(59397),A=a(60120),T=a(15464),S=a(33483),E=function(e){var t=e.children,a=e.className;return(0,r.jsx)("div",(0,i.__assign)({className:(0,y.classNames)("CallsScheduledCallRowDropdownItem",a)},{children:t}),void 0)},M=function(e){var t,a=e.call,n=e.isToday,s=(0,i.__rest)(e,["call","isToday"]),o=(0,C.useLang)().getLang,d=function(){var e;return null===(e=s.onCallEnter)||void 0===e?void 0:e.call(s,a)},g=function(){var e;return null===(e=s.onCallDelete)||void 0===e?void 0:e.call(s,a)},b=function(){var e;return null===(e=s.onCallCopyText)||void 0===e?void 0:e.call(s,a)},A=function(){var e;return null===(e=s.onCallCopyLink)||void 0===e?void 0:e.call(s,a)},S=function(){var e;return null===(e=s.onCallEdit)||void 0===e?void 0:e.call(s,a)},M=function(){var e;return null===(e=s.onCallMessage)||void 0===e?void 0:e.call(s,a)},D=(t=[{id:1,text:(0,r.jsxs)(E,{children:[(0,r.jsx)(c.default,{},void 0),o("calls_landing_standalone_join")]},void 0),onClick:d},{id:2,text:(0,r.jsxs)(E,{children:[(0,r.jsx)(f.default,{},void 0),o("calls_copy_link")]},void 0),onClick:A},{id:3,text:(0,r.jsxs)(E,{children:[(0,r.jsx)(p.default,{},void 0),o("calls_copy_text")]},void 0),onClick:b},{id:4,text:(0,r.jsxs)(E,{children:[(0,r.jsx)(_.default,{},void 0),o("calls_edit_call")]},void 0),onClick:S}],(0,T.isParticipantGroup)(a.caller_id)||t.push({id:5,text:(0,r.jsxs)(E,{children:[(0,r.jsx)(m.default,{},void 0),o("calls_goto_chat")]},void 0),onClick:M}),t.push({id:6,text:(0,r.jsxs)(E,(0,i.__assign)({className:"CallsScheduledCallRowDropdownItem--red"},{children:[(0,r.jsx)(h.default,{},void 0),o("calls_delete")]}),void 0),onClick:g}),t);return(0,r.jsxs)("div",(0,i.__assign)({className:"CallsScheduledCallRowAsideMenu"},{children:[n&&(0,r.jsx)(l.default,(0,i.__assign)({onClick:d,appearance:"secondary",size:"s"},{children:o("calls_landing_standalone_join")}),void 0),(0,r.jsx)(u.default,(0,i.__assign)({className:"CallsScheduledCallRowDropdown",trigger:"hover",align:"right",data:D},{children:(0,r.jsx)(v.default,{className:(0,y.classNames)("CallHistoryScreen--friendsIcon","CallHistoryListItem--asidePointers","CallsScheduledCallRowDropdown__icon")},void 0)}),void 0)]}),void 0)},D=function(e){var t,a=e.call,n=e.isToday,s=e.isTomorrow,l=(0,C.useLang)().getLang,o=(0,b.useLocale)().locale,u=function(){var e,t,i,r=new Date(1e3*((null===(e=a.schedule)||void 0===e?void 0:e.time)||0));return{start:S.timeFormat.format(r),startDate:r,end:S.timeFormat.format(new Date(1e3*((null===(t=a.schedule)||void 0===t?void 0:t.time)||0)+1e3*((null===(i=a.schedule)||void 0===i?void 0:i.duration)||0)))}}(),c=function(){var e,t,i=!(!n&&!s),r=(0,S.getRepeatDescription)(u.startDate,(null===(e=a.schedule)||void 0===e?void 0:e.recurrence_rule)||"never",l,o,i),d=", ";if(!r){if(i)return"";r=(0,S.dateMonthFormat)(u.startDate,o)}return(i||(null===(t=a.schedule)||void 0===t?void 0:t.recurrence_rule)===A.ERepeatCallVariant.Daily)&&(d=" · "),""+d+r}();return(0,r.jsxs)("div",(0,i.__assign)({className:"CallsScheduledCallRowDescription"},{children:[(0,r.jsxs)("div",(0,i.__assign)({className:"CallsScheduledCallRowDescription--time"},{children:["never"!==(null===(t=a.schedule)||void 0===t?void 0:t.recurrence_rule)&&(0,r.jsx)(d,{},void 0),(0,r.jsx)("span",(0,i.__assign)({className:"CallsScheduledCallRowSubDescription"},{children:u.start+" — "+u.end+c}),void 0)]}),void 0),a.group&&(0,r.jsx)("div",{children:a.group.name},void 0)]}),void 0)},U=(0,n.memo)((function(e){var t,a,n,l=e.call,u=e.isToday,d=(0,i.__rest)(e,["call","isToday"]),c=(null===(t=l.group)||void 0===t?void 0:t.photo_50)||(null===(a=l.chat)||void 0===a?void 0:a.photo_50);return(0,r.jsx)(s.default,(0,i.__assign)({className:"CallsScheduledCallRow",selectable:!1,canBeHovered:!1,aside:(0,r.jsx)(M,(0,i.__assign)({call:l,isToday:u},d),void 0)},{children:(0,r.jsx)(o.default,{className:"CallsScheduledCallRowEntity",photo:(0,r.jsx)(g.CallPhoto,{id:(null===(n=l.chat)||void 0===n?void 0:n.peer_id)||1,photo:c,alt:l.name||"",size:"34"},void 0),title:l.name,description:(0,r.jsx)(D,{call:l,isToday:u,isTomorrow:d.isTomorrow},void 0)},void 0)}),void 0)}))},33483:(e,t,a)=>{"use strict";a.d(t,{timeFormat:()=>o,dateMonthFormat:()=>c,mapCalls:()=>g,getTypeOfDay:()=>C,getRepeatDescription:()=>y});var i=a(70655),r=a(62833),n=a(60120),s=a(78658),l=864e5,o=new Intl.DateTimeFormat("ru-RU",{hour12:!1,hour:"2-digit",minute:"2-digit"}),u=new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long"}),d=new Intl.DateTimeFormat("en-US",{day:"numeric",month:"long"}),c=function(e,t){return"ru"===t?u.format(e):d.format(e)},f=new Intl.DateTimeFormat("ru-RU",{month:"long"}),p=new Intl.DateTimeFormat("en-US",{month:"long"}),_=function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()},m=function(e,t){return _(e,t)&&e.getDate()===t.getDate()},h=function(e,t){var a=new Date(e.valueOf()+l);return m(a,t)},v=function(){var e=!1;return{getDayTitle:function(t,a,i,r){switch(!0){case m(t,a):return e=!0,r("calls_today")+", "+c(a,i);case h(t,a):return e=!0,r("calls_tomorrow")+", "+c(a,i);case o=t,u=a,Math.abs(o.valueOf()-u.valueOf())/l<7:return e?r("calls_five_days_tops").replace("{days}",5):r("calls_five_days_tops").replace("{days}",7);case _(t,a):return r("calls_this_month");default:var n=(0,s.capitalize)(function(e,t){return"ru"===t?f.format(e):p.format(e)}(a,i));return function(e,t){return e.getFullYear()===t.getFullYear()}(t,a)||(n+=", "+a.getFullYear()),n}var o,u}}},g=function(e){var t,a,r,n,s,l,o,u=e.now,d=e.items,c=e.locale,f=e.getLang,p=function(e){return e?null==e?void 0:e.reduce((function(e,t){var a;return(0,i.__assign)((0,i.__assign)({},e),((a={})[t.id]=t,a))}),{}):null}(e.groups),_=new Map,g=v().getDayTitle,C=new Set;if(d)try{for(var b=(0,i.__values)(d),y=b.next();!y.done;y=b.next()){var A=y.value,T=(0,i.__rest)(A,[]),S=!(!p||!T.caller_id)&&p[Math.abs(T.caller_id)];S&&(T.group=S);var E=new Date(1e3*((null===(s=T.schedule)||void 0===s?void 0:s.time)||0)),M=g(u,E,c,f);if(T.caller_id&&C.add(T.caller_id),_.has(M))(null===(l=_.get(M))||void 0===l?void 0:l.calls.has(T.call_id))||null===(o=_.get(M))||void 0===o||o.calls.set(T.call_id,T);else{var D=new Map;D.set(T.call_id,T),_.set(M,{title:M,calls:D,isToday:m(u,E)||void 0,isTomorrow:h(u,E)||void 0})}}}catch(e){t={error:e}}finally{try{y&&!y.done&&(a=b.return)&&a.call(b)}finally{if(t)throw t.error}}var U=0,w=[];try{for(var k=(0,i.__values)(_.values()),N=k.next();!N.done;N=k.next()){var R=N.value,P=(0,i.__spreadArray)([],(0,i.__read)(R.calls.values()),!1);U+=P.length,w.push((0,i.__assign)((0,i.__assign)({},R),{calls:P}))}}catch(e){r={error:e}}finally{try{N&&!N.done&&(n=k.return)&&n.call(k)}finally{if(r)throw r.error}}return{calls:w,callerIds:C,total:U}},C=function(e,t){switch(e.getDay()){case 0:case 6:return t("calls_on_dayoffs");default:return t("calls_on_workdays")}},b=function(e,t,a){return a?"":c(e,t)+" · "},y=function(e,t,a,i,s){switch(t){case n.ERepeatCallVariant.Daily:return a("calls_daily");case n.ERepeatCallVariant.Monthly:var l=b(e,i,s);return l+=a("calls_monthly");case n.ERepeatCallVariant.Weekly:l=b(e,i,s);return l+=a("calls_on").replace("{day}",(0,r.getWeekDayLang)(e.getDay(),a));case"weekdays":case"weekend":case n.ERepeatCallVariant.WeeklyOnDayType:l=b(e,i,s);return l+=C(e,a);case n.ERepeatCallVariant.Yearly:l=b(e,i,s);return l+=a("calls_yearly");default:return""}}},32997:(e,t,a)=>{"use strict";a.d(t,{default:()=>u});var i=a(70655),r=a(85893),n=a(67294),s=a(73935),l=a(59397),o=a(89366);const u=function(e){function t(t){var a,n=e.call(this,t)||this;return n.handleMouseDown=function(e){var t=n.state.opened,a=n.props,i=a.onFocus,r=a.alwaysOpened,s=a.disabled,l=a.searchable;i&&"function"==typeof i&&i(t),"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),s||r||n.toggle(!!l||!t))},n.getOptionByValue=function(e,t){for(var a=0;a<e.length;a++)if(e.hasOwnProperty(a)){var i=e[a];if("object"==typeof i){if("group"===i.type&&void 0!==i.items){var r=n.getOptionByValue(i.items||[],t);if(r)return r}if(i.value===t)return i}else if(i===t)return i}},n.setValue=function(e,t,a){a&&a.stopPropagation(),"object"==typeof t&&n.props.searchable&&(t=t.props.title);var i={value:e,label:"object"==typeof t?t:t.toString()};n.fireChangeEvent(i),n.setState({selected:i}),n.props.alwaysOpened||n.toggle(!1)},n.fireChangeEvent=function(e){e!==n.state.selected&&n.props.onChange&&n.props.onChange({name:n.props.name,selected:e})},n.renderOption=function(e){var t=(0,l.classNames)("CallsSelect__option",{"CallsSelect__option--selected":e===n.state.selected}),a=void 0!==e.value?e.value:e.label||e,s=void 0!==e.label?e.label:e;return(0,r.jsx)("div",(0,i.__assign)({className:t,onClick:function(e){return n.setValue(a,s,e)},title:e.title},{children:s}),a)},n.buildMenu=function(){var e=n.state.filteredOptions.map((function(e){return"string"!=typeof e&&"group"===e.type?(0,r.jsxs)("div",(0,i.__assign)({className:"CallsSelect__group"},{children:[e.name&&(0,r.jsx)("div",(0,i.__assign)({className:"CallsSelect__title"},{children:e.name}),void 0),e.items&&e.items.map((function(e){return n.renderOption(e)}))]}),e.name):n.renderOption(e)}));return e.length?e:(0,r.jsx)("div",(0,i.__assign)({className:"CallsSelect__noresults"},{children:n.props.searchPlaceholder}),void 0)},n.renderMenu=function(){return n.props.customMenu?n.props.customMenu(n.state.filteredOptions,n.setValue,n.state.selected):(0,r.jsx)("div",(0,i.__assign)({className:"CallsSelect__menu"},{children:n.buildMenu()}),void 0)},n.filterOptions=function(e,t){var a=e.toLowerCase();return t.filter((function(e){return"string"==typeof e?e.toLowerCase().includes(a):"string"==typeof e.label?e.label.toLowerCase().includes(a):"object"==typeof e.label&&e.label.props.title.toLowerCase().indexOf(a)>=0}))},n.handleSearchType=function(e){var t=e.target.value,a=n.filterOptions(t,n.state.allOptions);n.setState({selected:{value:t,label:t},filteredOptions:a}),n.toggle(!0),n.props.onType&&n.props.onType(t)},n.handleSearchFocus=function(e){n.props.enableSearchSelectOnFocus&&e.target.select(),n.props.onInputFocus&&n.props.onInputFocus(e)},n.handleEditableType=function(e){n.setState({opened:!0}),n.props.onEdit&&n.props.onEdit(e.target.value)},n.buildControl=function(e){var t,a,s="",u=n.props,d=u.searchable,c=u.editable,f=u.inputOtherProps,p=u.placeholder,_=u.forcePlaceholder,m=(0,l.classNames)("CallsSelect__input",f&&f.className);return e&&"string"==typeof e&&(s=e),e&&"object"==typeof e&&(e&&"string"==typeof e.label&&(s=_&&"string"==typeof p&&p?p:e.label),e&&"object"==typeof e.label&&d&&(s=e.label.props.title||""),e&&"object"==typeof e.label&&!d&&(a=e.placeholder||e.label)),t=d?(0,r.jsxs)("div",(0,i.__assign)({className:"CallsSelect__control",onClick:n.handleMouseDown},{children:[(0,r.jsx)(o.default,(0,i.__assign)({placeholder:n.props.placeholder,value:s||"",onChange:n.handleSearchType.bind(n),onFocus:n.handleSearchFocus.bind(n),onBlur:function(e){var t,a;return null===(a=(t=n.props).onInputBlur)||void 0===a?void 0:a.call(t,e,n.state.filteredOptions)},disabled:n.props.disabled,isControlledOutside:!0},f,{className:m}),void 0),(0,r.jsx)("span",{className:"CallsSelect__arrow"},void 0)]}),void 0):c?(0,r.jsxs)("div",(0,i.__assign)({className:"CallsSelect__control",onClick:n.handleMouseDown},{children:[(0,r.jsx)(o.default,(0,i.__assign)({placeholder:n.props.placeholder,id:n.props.id,value:s||"",onChange:n.handleEditableType,onFocus:n.props.onInputFocus,onBlur:n.props.onInputBlur,disabled:n.props.disabled,isControlledOutside:!0,autoComplete:"off"},f,{className:m}),void 0),(0,r.jsx)("span",{className:"CallsSelect__arrow"},void 0)]}),void 0):(0,r.jsxs)("div",(0,i.__assign)({className:"CallsSelect__control",onClick:n.handleMouseDown},{children:[(0,r.jsx)("div",(0,i.__assign)({className:"CallsSelect__placeholder"},{children:s||a}),void 0),(0,r.jsx)("span",{className:"CallsSelect__arrow"},void 0)]}),void 0),t},n.handleBodyKeyDown=function(e){"Escape"===e.key&&n.mounted&&n.state.opened&&!n.props.alwaysOpened&&n.toggle(!1)},n.checkRightSearchableValue=function(){var e=n.state.selected,t=n.props,a=t.options,i=t.value;if(i&&n.props.searchable){var r=n.getOptionByValue(a,i);r&&"object"==typeof r&&"object"==typeof e&&r.value!==e.value&&n.setState({selected:r,filteredOptions:a})}},n.handleDocumentClick=function(e){var t,a=n.state.opened,i=n.props,r=i.alwaysOpened,s=i.checkRightSearchableValue,l=!!(null===(t=n.el)||void 0===t?void 0:t.contains(e.target));n.mounted&&a&&!r&&!l&&n.toggle(!1),s&&!l&&n.checkRightSearchableValue()},a=void 0!==t.value?t.editable&&void 0!==t.customValue?{label:t.customValue,value:t.customValue}:n.getOptionByValue(t.options,t.value):{label:n.getLabel(t),value:""},n.state={filteredOptions:t.options,allOptions:t.options,selected:a,opened:!!t.alwaysOpened},n.mounted=!0,n}return(0,i.__extends)(t,e),t.prototype.getLabel=function(e){return this.props.searchable?this.props.value||"":e.placeholder||"Select..."},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({filteredOptions:e.options,allOptions:e.options}),this.props.editable&&void 0!==e.customValue?this.setState({selected:{label:e.customValue,value:e.customValue}}):void 0!==e.value&&e.value!==this.state.selected?this.setState({selected:this.getOptionByValue(e.options,e.value)}):void 0===e.value&&this.setState({selected:{label:this.getLabel(e),value:""}})},t.prototype.componentDidMount=function(){this.el=s.findDOMNode(this),document.addEventListener("mousedown",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,!1),document.body.addEventListener("keydown",this.handleBodyKeyDown,!1)},t.prototype.componentWillUnmount=function(){this.mounted=!1,document.removeEventListener("mousedown",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,!1),document.body.removeEventListener("keydown",this.handleBodyKeyDown,!1)},t.prototype.toggle=function(e){var t=this;this.setState({opened:e},(function(){var e,a,i,r;t.state.opened?null===(a=(e=t.props).onShow)||void 0===a||a.call(e):null===(r=(i=t.props).onHide)||void 0===r||r.call(i)}))},t.prototype.render=function(){var e=this.props,t=e.className,a=e.appearance,n=e.style,s=e.searchable,o=e.editable,u=e.disabled,d=e.position,c=e.isFluid,f=e.alwaysNotEmpty,p=this.state,_=p.selected,m=p.opened,h=!f&&_&&"object"==typeof _&&!_.value||!1,v=s||o?"secondary":a,g=(0,l.classNames)("CallsSelect","CallsSelect--"+v,"CallsSelect--"+d,{"CallsSelect--opened":!!m,"CallsSelect--disabled":!!u,"CallsSelect--empty":h,"CallsSelect--isFluid":c},t),C=this.buildControl(_);return(0,r.jsxs)("div",(0,i.__assign)({className:g,style:n},{children:[C,this.state.opened&&this.renderMenu()]}),void 0)},t.defaultProps={appearance:"primary",searchPlaceholder:"No options found",searchable:!1,editable:!1,inputOtherProps:{},onShow:function(){},onHide:function(){},position:"b"},t}(n.Component)},10930:(e,t,a)=>{"use strict";a.d(t,{ConfigContext:()=>n});var i=a(67294),r=a(73674),n=(0,i.createContext)({isModalView:!0,withAnimation:!0,allowAddMembers:!1,debugLog:!1,incomingCall:!1,streaming:!0,streamingPrivacy:!0,fullHD:!1,anonymPhoto:!0,allowBanParticipant:!1,showFeedbackScreen:!1,enableVideoSlots:!1,videoSlotsCount:r.VIDEO_SLOTS_COUNT,browserWarnings:null,allowCallByName:!1,enableScreenTrack:!1,enableProducerScreenTrack:!1,allowWaitingHall:!1,allowPushToTalk:!1,badNetwork:!1,badNetworkP2P:!1,desktopAppNotification:!1,sferum:!1,lazyLoading:!1,enableDomainBender:!1,enableMultipleDevices:!1,enableP2PAudioRed:!1,enableServerAudioRed:!1,enableTranslationSplit:!1,enableMovieShare:!1,enableNavChangeCallCollapse:!1,enableParticipantListChunk:!1})},71192:(e,t,a)=>{"use strict";a.d(t,{LangContext:()=>i});var i=(0,a(67294).createContext)({getLang:function(e){return e},langSex:function(e,t){return t},langNumeric:function(e,t){return""+t},langShortDateTime:function(e){return""+e},langShortDate:function(e){return""+e}})},40182:(e,t,a)=>{"use strict";a.d(t,{setApiWrappers:()=>n,getApiWrapper:()=>s});var i=null,r=null,n=function(e,t){i=e,r=t},s=function(e){return void 0===e&&(e=!0),e?i:r}},67921:(e,t,a)=>{"use strict";a.d(t,{isGroupCallByPeer:()=>o,isActiveGroupCallMessage:()=>u,isRequireAuthToJoin:()=>d,isWaitingHallEnabled:()=>c,getDefaultConversation:()=>f,isAuthedByGroupId:()=>p,getMediaOptions:()=>_,isIAmSpeaking:()=>m,getCallsCount:()=>h,increaseCallsCount:()=>v});var i=a(71831),r=a(73674),n=a(53996),s=a(59397),l=(a(78658),a(15464)),o=function(e){return 0===e||(0,i.isChatPeer)(e)||null===e};function u(e){return e&&e.attaches&&e.attaches[0]&&"group_call_in_progress"===e.attaches[0].type}function d(e){return e.conversationOptions.includes(n.ConversationOption.REQUIRE_AUTH_TO_JOIN)}function c(e){return e.conversationOptions.includes(n.ConversationOption.WAITING_HALL)}function f(e){return{peerId:0,canAddMembers:!0,tab:e("calls_new_call_title"),photo:r.DEFAULT_GROUP_CALL_PHOTO}}function p(e){return!!e.groupId}function _(e){var t=e.audio,a=e.video,i=[];return t&&i.push(n.MediaOption.AUDIO),a&&i.push(n.MediaOption.VIDEO),i}function m(e){return!!e.externalId&&!!e.speakers[(0,l.externalIdToString)(e.externalId)]}function h(){var e;return Number(null!==(e=s.localStorage.getItem(r.CALLS_DESKTOP_APP_NOTIFICATION))&&void 0!==e?e:0)}function v(){var e,t=Number(null!==(e=s.localStorage.getItem(r.CALLS_DESKTOP_APP_NOTIFICATION))&&void 0!==e?e:0)+1;s.localStorage.setItem(r.CALLS_DESKTOP_APP_NOTIFICATION,String(t))}},82280:(e,t,a)=>{"use strict";a.d(t,{MINUTE:()=>i,HOUR:()=>r,DAY:()=>n,WEEK:()=>s,SECOND_JS:()=>l});var i=6e4,r=60*i,n=86400,s=7*n,l=1e3},78658:(e,t,a)=>{"use strict";a.d(t,{shallowEqual:()=>p.shallowEqual,fetchUserShortName:()=>m,convertClientData:()=>h,convertServerData:()=>v,convertCallerFromLongpoll:()=>g,convertChatFromLongpoll:()=>C,getPeerIdFromLongpoll:()=>b,isGroupCallEvent:()=>y,isAnyoneWithVideo:()=>A,calculateCallDuration:()=>T,getTextForApiErrorByCode:()=>S,getTextForServerError:()=>E,getTextForClientError:()=>M,createPayload:()=>D,isInReconnect:()=>U,compose:()=>w,exponentialRetry:()=>k,startCallRetryWrapper:()=>N,getParticipantsListLabel:()=>R,unpackState:()=>P,normalizePreviewData:()=>x,conditionalPausedPromise:()=>I,hasIn:()=>O,isEmpty:()=>L,objectFilter:()=>j,objectMap:()=>B,objectReduce:()=>V,objectForEach:()=>F,objectSome:()=>H,noop:()=>G,capitalize:()=>W,shorten:()=>z,getCallable:()=>q,binarySearch:()=>K,isBoolean:()=>Y,minmax:()=>J});var i=a(70655),r=a(71831),n=a(67921),s=a(73674),l=a(74351),o=a(59397),u=a(88822),d=a(93385),c=a(53996),f=a(15464),p=a(35886);function _(e){var t,a=e.shortName,r=e.firstName;e.lastName;return a&&r||(a=m(r=(t=(0,i.__read)(e.name.split(" "),2))[0],t[1],e.name)),(0,i.__assign)((0,i.__assign)({},e),{peerId:+e.id,tab:e.name,shortName:a,firstName:r})}function m(e,t,a){if(e){var i=t?t.length>2?t.substring(0,1)+".":t:"";return i?e+" "+i:e}return a}function h(e){var t=(0,i.__read)(e,2),a=t[0],r=t[1],n=a&&function(e){var t=e.callInProgress,a=void 0!==t&&t,r=(0,i.__rest)(e,["callInProgress"]);return!r.call_in_progress&&a&&(r.call_in_progress=a),r}(a);return[n&&("peerId"in n?n:_(n)),r?r.map(_):[]]}function v(e){var t,a=e.items,n=e.profiles,s=void 0===n?[]:n,l=(0,i.__read)(a,1)[0],o=function(e){if(e.chat_settings){var t={peerId:e.peer.id,tab:e.chat_settings.title,name:e.chat_settings.title,canAddMembers:e.chat_settings.acl.can_invite,adminIds:e.chat_settings.admin_ids,ownerId:e.chat_settings.owner_id||-1};return e.chat_settings.photo&&(t.photo=e.chat_settings.photo.photo_100),t}return{canAddMembers:!0,peerId:e.peer.id}}(l),u=function(e){return e.map(d.normalizeUser)}(s);return[(0,i.__assign)((0,i.__assign)({},o),{tab:o.name}),(0,r.isUserPeer)(null!==(t=o.peerId)&&void 0!==t?t:0)?[(0,i.__assign)((0,i.__assign)({},u&&u.filter((function(e){return e.peerId===o.peerId}))[0]),o)]:u,l]}function g(e){var t=e.caller_info,a=t.first_name+" "+t.last_name;return{peerId:+t.user_id,name:a,tab:a,photo:t.photo_400||t.photo_200,firstName:t.first_name,lastName:t.last_name,shortName:m(t.first_name,t.last_name,a)}}function C(e){var t=e.chat_info;return{peerId:2e9+t.chat_id,tab:t.title,name:t.title,photo:t.photo_400||t.photo_200}}function b(e){var t=e.caller_info,a=e.chat_info;return a?2e9+a.chat_id:t.user_id}function y(e){return!!e.payload.chat_info}function A(e){return!!(0,f.isParticipantWithVideo)(e.localDevice)||H(e.devices,(function(e){return!(!e.wasConnected||!(0,f.isParticipantWithVideo)(e))}))}function T(e){var t=Date.now(),a=Math.max(0,Math.floor((t-e)/1e3));return 0===a?"00:00":a<=599?"0"+(0,o.formatDuration)(a):(0,o.formatDuration)(a)}function S(e,t,a){switch(+e){case s.SERVER_ERROR_MESSAGES_CALL_JOIN_NOT_ALLOWED:return a("calls_join_error_require_access");case s.SERVER_ERROR_MESSAGES_CALL_NOT_FOUND:return a("calls_join_error_text");case s.SERVER_ERROR_MESSAGES_CALL_INVALID_JOIN_LINK:return a("calls_invalid_join_link");case s.SERVER_ERROR_PRIVACY:return a("calls_privacy_error");case s.SERVER_ERROR_BUSY:return a(t?"calls_chat_busy_error":"calls_busy_error");case s.SERVER_ERROR_FLOOD_CONTROL:return a("calls_flood_error");case s.SERVER_ERROR_REQUIRE_AUTH:return a("calls_join_error_require_auth");case s.SERVER_ERROR_UNKNOWN:case s.SERVER_ERROR_INVALID_REQUEST:case s.SERVER_ERROR_INTERNAL:case s.SERVER_ERROR_OLD_RECEIVER_APP:default:return a("calls_start_error")}}function E(e,t,a){var i,r,n=0===e.search("EXTERNAL_API_ERROR"),l=e.match(/\d+/g),o=l?Number(null===(i=e.match(/\d+/g))||void 0===i?void 0:i[1]):s.CLIENT_ERROR_UNKNOWN,u=l?Number(null===(r=e.match(/\d+/g))||void 0===r?void 0:r[0]):s.CLIENT_ERROR_UNKNOWN;if(!n||Number.isNaN(o))return u===s.SDK_ERROR_AUTH?a("calls_start_error_auth"):function(e,t,a){switch(!0){case-1!==e.search("error.webrtc.auth.required"):return a("calls_join_error_require_auth");case-1!==e.search("error.webrtc.auth.banned"):case-1!==e.search("error.webrtc.participant.check.privacy"):return a("calls_join_error_banned");case-1!==e.search("error.webrtc.participant.check.killed_call"):return a("calls_join_error_killed_call");case-1!==e.search("not.found.webrtc.conversation"):return a("calls_join_error_not_found_conversation");default:return a("calls_start_error")}}(e,0,a);switch(e){case c.HangupType.CANCELED:return a("calls_hangup_error_canceled");case c.HangupType.REJECTED:return a("calls_hangup_error_rejected");case c.HangupType.REMOVED:return a("calls_hangup_error_removed");case c.HangupType.HUNGUP:return a("calls_hangup_error_hangup");case c.HangupType.MISSED:return a("calls_hangup_error_missed");case c.HangupType.BUSY:return a("calls_hangup_error_busy");case c.HangupType.FAILED:return a("calls_hangup_error_failed");case c.HangupType.NETWORK_ERROR:return a("calls_hangup_error_network_error");case c.HangupType.CALLER_IS_BLOCKED:return a("calls_hangup_error_caller_is_blocked");case c.HangupType.NOT_FRIENDS:return a("calls_hangup_error_not_friends");case c.HangupType.CALLEE_IS_OFFLINE:return a("calls_hangup_error_callee_is_offline");case c.HangupType.UNKNOWN_ERROR:return a("calls_hangup_error_unknown_error");case c.HangupType.UNSUPPORTED:return a("calls_hangup_error_unsupported");case c.HangupType.OLD_VERSION:return a("calls_hangup_error_old_version");case c.HangupType.SERVICE_DISABLED:return a("calls_hangup_error_service_disabled");case c.HangupType.EXTERNAL_API_ERROR:return a("calls_hangup_error_external_api_error");case c.HangupType.SOCKET_CLOSED:return a("calls_hangup_error_socket_closed")}return S(+o,t,a)}function M(e,t,a){return a("calls_sorry_error")}function D(e,t,a){void 0===a&&(a=0);var i={is_video:t.includes(c.MediaOption.VIDEO),chat_id:(0,r.isChatPeer)(e)?e-2e9:void 0,with_join_link:(0,n.isGroupCallByPeer)(e),join_by_link:(0,n.isGroupCallByPeer)(e),community_user_id:a};return JSON.stringify(i)}function U(e){return e.localDevice.status===c.ParticipantStatus.RECONNECT||H(e.devices,(function(e){return e.status===c.ParticipantStatus.RECONNECT}))}var w=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];return t.reduce((function(e,t){return t(e)}),e).apply(void 0,(0,i.__spreadArray)([],(0,i.__read)(a),!1))}};function k(e,t){return void 0===t&&(t={attempts:10,timeout:0}),function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];return t.attempts>0?(0,l.pause)(t.timeout,null).then((function(){return e.apply(void 0,(0,i.__spreadArray)([],(0,i.__read)(a),!1))})).catch((function(r){return!t.timeout&&(t.timeout=1),t.attempts=r.type===s.SdkErrorType.API?0:t.attempts-1,t.timeout=Math.min(2*t.timeout,300),k(e,t).apply(void 0,(0,i.__spreadArray)([],(0,i.__read)(a),!1))})):Promise.reject(s.CallErrorType.CANT_REACH_API)}}var N=function(e,t){return function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];return t.apply(void 0,(0,i.__spreadArray)([],(0,i.__read)(a),!1)).catch((function(r){if(r.error===s.FatalError.AUTH)return e().then((function(){return t.apply(void 0,(0,i.__spreadArray)([],(0,i.__read)(a),!1))}));throw r}))}};function R(e,t,a,i,r,n,s){void 0===n&&(n=0),void 0===s&&(s=3);var l=function(e){return(0,u.decodeHTMLEntities)(a(e)||"")};if(0===n&&e.length>0&&(n=e.length),n>t.length){var o=n-t.length,d=e.slice(0,s).map(l).join(", ");return r(o,"calls_members_list_label",i("calls_members_list_label",o)).replace("{name}",d)}if(t.length>1){var c=t.length>2?e.slice(0,2).map(l).join(", "):l(e[0]),f=l(e[t.length-1]);return i("calls_and").replace("{before}",c).replace("{after}",f)}return 1===t.length?l(e[0]):""}function P(e){return"current"in e?e.current:e}function x(e,t){var a=t.join_link,r=t.preview,n=t.profiles,l=t.anonyms,o=(0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__read)(l),!1),(0,i.__read)(n),!1).map(d.normalizeUser);return{joinLink:a,title:r.title,membersCount:r.members_count,photo_100:r.photo.photo_100,photo_200:r.photo.photo_200,members:o,conversationData:{peerId:0,canAddMembers:!0,tab:e("calls_new_call_title"),photo:s.DEFAULT_GROUP_CALL_PHOTO}}}var I=function(e){return"number"!=typeof e||Number.isNaN(e)?Promise.resolve():(0,l.pause)(e,void 0)},O=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return t.includes(e)},L=function(e){switch(typeof e){case"boolean":case"string":case"undefined":case"number":return!e;case"function":case"bigint":case"symbol":return!0;case"object":return null!==e&&(Array.isArray(e)?!e.length:!Object.keys(e).length)}},j=function(e,t){var a=[];for(var i in e)e.hasOwnProperty(i)&&t(e[i])&&a.push(e[i]);return a},B=function(e,t){var a=[];for(var i in e)e.hasOwnProperty(i)&&a.push(t(e[i],i));return a},V=function(e,t,a){var i=a;for(var r in e)e.hasOwnProperty(r)&&(i=t(i,e[r],r));return i},F=function(e,t){for(var a in e)e.hasOwnProperty(a)&&t(e[a],a)};function H(e,t){for(var a in e)if(e.hasOwnProperty(a)&&t(e[a],a))return!0;return!1}var G=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},W=function(e){var t;return e.length?(null===(t=e.charAt(0))||void 0===t?void 0:t.toLocaleUpperCase())+e.slice(1):""},z=function(e,t){return e.length<=t?e:e.slice(0,Math.max(t-3,0)).trim().concat("...")},q=function(e){return"function"==typeof e?e():e};function K(e,t){for(var a=0,i=e.length,r=!1;a<i;){var n=Math.floor((a+i)/2),s=t(e[n],n);s>0?a=n+1:(i=n,r=!s)}return r?a:~a}var Y=function(e){return"boolean"==typeof e},J=function(e,t,a,i){return void 0===i&&(i=!0),i?e>=t&&e<=a:e>t&&e<a}},95098:(e,t,a)=>{"use strict";a.d(t,{getHistoryCallPeerId:()=>r,getCurrentCallPeerId:()=>n,getCurrentCallOwner:()=>s,getHistoryItemOwner:()=>l});var i=a(73674);function r(e){var t,a=e.chat,r=e.user_ids,n=e.items,s=0;return a?a.id&&(s=i.CHAT_PEER_ID_OFFSET+a.id):r.length?s=r[0]:(null==n?void 0:n.length)&&(null===(t=n[0])||void 0===t?void 0:t.chat)&&n[0].chat.id&&(s=i.CHAT_PEER_ID_OFFSET+n[0].chat.id),s}function n(e){var t=0;return(null==e?void 0:e.chat)?t=i.CHAT_PEER_ID_OFFSET+e.chat.id:e.user_ids.length&&(t=e.user_ids[0]),t}function s(e,t){var a=e.chat,i=e.user_ids,r=void 0;if(!a&&i.length){var n=i[0];n in t&&(r=t[n])}return{member:r,chat:a}}function l(e,t){var a,i,r=e.chat,n=e.user_ids,s=e.items,l=void 0;if(!r)if(n.length){var o=n[0];o in t&&(l=t[o])}else(null==s?void 0:s.length)&&(null===(a=s[0])||void 0===a?void 0:a.chat)&&(r=null===(i=s[0])||void 0===i?void 0:i.chat);return{member:l,chat:r}}},71154:(e,t,a)=>{"use strict";a.d(t,{handlePromiseError:()=>n});var i=a(70655),r=a(53996),n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r.debugMessage.apply(void 0,(0,i.__spreadArray)([r.DebugMessageType.ERROR],(0,i.__read)(e),!1))}},15464:(e,t,a)=>{"use strict";a.d(t,{PARTICIPANTS_LIST_BUFFER_SIZE:()=>u,isParticipantAnonym:()=>d,isParticipantGroup:()=>c,getParticipantExternalId:()=>f,isParticipantInCall:()=>p,isParticipantUnavailableToCallFromGroup:()=>_,getCallVisibleParticipant:()=>m,getActiveDevices:()=>v,getActiveParticipantsCount:()=>g,getParticipantsInfo:()=>C,getNonAnonymousConnectParticipantsCount:()=>b,canPinParticipants:()=>A,isAdmin:()=>T,isCreator:()=>S,canMuteParticipants:()=>E,getRaisedHands:()=>M,kickParticipant:()=>D,participantIsChatAdmin:()=>U,participantIsAdmin:()=>w,getMeId:()=>k,getStream:()=>N,getSausageStream:()=>R,isParticipantWithVideo:()=>P,isParticipantWithMovie:()=>x,getOrator:()=>I,externalIdToString:()=>O,getPeerIdDeviceInfo:()=>L,isSameExternalId:()=>j,getFirstMatchedId:()=>B,someDeviceByParticipant:()=>V,getActiveDevicesCount:()=>F,getDefaultExternalId:()=>H,getSelectedDevice:()=>G,isCallHaveOtherParticipants:()=>W,convertParticipantStateFromSDK:()=>z,toggleScreenSharing:()=>q,getDeviceFromStoreById:()=>K,getNewStreamModeByDevice:()=>Y,getAvailableStreamModes:()=>J,getPreviousAvailableStreamMode:()=>Z,isStreamModeAvailable:()=>Q,getMediaSettingsWithStreamMode:()=>X});var i=a(70655),r=a(73674),n=a(67921),s=a(53996),l=a(78658),o=a(17179),u={ORATOR:30,GRID:60},d=function(e){var t="object"==typeof e?+e.id:e;return t>-19e8&&t<-189e7},c=function(e){return e<0&&e>-1e9},f=function(e){return(null==e?void 0:e.peerId)?d(e.peerId)?e.peerId.toString():{id:e.peerId.toString(),type:s.ExternalIdType.USER}:null},p=function(e,t){if(t===e.me)return!0;var a=e.participants[t];return!!a&&V(a,(function(e){return!!e.status}))},_=function(e,t){return!!e.unableToCallGroupMembersIds&&e.unableToCallGroupMembersIds.indexOf(t)>-1};function m(e,t){var a=(0,n.isGroupCallByPeer)(e.peer)?B(e.adminPinnedParticipant,e.screenSharingPinnedParticipant,e.pinnedParticipant,e.orator):e.peer,r=null;if(null!==a&&(r="object"==typeof a?O(a):a.toString()),r&&e.devices[r])return e.devices[r];var s=null;for(var l in e.devices)if(e.devices.hasOwnProperty(l)){var o=e.devices[l];if(!j(o.externalId,e.externalId)&&o.wasConnected&&(s||(s=o),!t||P(o)))return o}return s||(s=(0,i.__assign)((0,i.__assign)({},e.localDevice),{externalId:e.externalId||H()})),s}var h=[];function v(e){var t=e.devices,a=e.adminPinnedParticipant,r=[],n=[],s=[],o=[],u=[],d=[],c=function(t){var i,l,c,f;t.status&&((null===(l=null===(i=t.statusData)||void 0===i?void 0:i.hand)||void 0===l?void 0:l.state)?r.push(t):j(t.externalId,a)?n.push(t):j(t.externalId,e.externalId)?s.push(t):(null===(c=t.mediaSettings)||void 0===c?void 0:c.isScreenSharingEnabled)?o.push(t):(null===(f=t.mediaSettings)||void 0===f?void 0:f.isVideoEnabled)?u.push(t):d.push(t))};(0,l.objectForEach)(t,c),e.externalId&&c((0,i.__assign)((0,i.__assign)({},e.localDevice),{externalId:e.externalId}));var f=(0,i.__spreadArray)((0,i.__spreadArray)((0,i.__spreadArray)((0,i.__spreadArray)((0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__read)(r.sort((function(e,t){var a,i,r,n,s,l;return(null!==(r=null===(i=null===(a=e.statusData)||void 0===a?void 0:a.hand)||void 0===i?void 0:i.ts)&&void 0!==r?r:0)-(null!==(l=null===(s=null===(n=null==t?void 0:t.statusData)||void 0===n?void 0:n.hand)||void 0===s?void 0:s.ts)&&void 0!==l?l:0)}))),!1),(0,i.__read)(n),!1),(0,i.__read)(s),!1),(0,i.__read)(o),!1),(0,i.__read)(u),!1),(0,i.__read)(d),!1);if(f.length!==h.length)h=f;else for(var p=0;p<f.length;p++)if(f[p]!==h[p]){h=f;break}return{activeDevices:h}}function g(e){var t=e.participants,a=0;for(var i in t)t.hasOwnProperty(i)&&y(e.me,t[i])&&a++;return a}var C=function(e){var t,a=e.excludeAnonymFromCount,i=e.participants,r=e.me,n={membersCount:0,creatorPeerId:0};for(var l in i)i.hasOwnProperty(l)&&(!n.creatorPeerId&&(null===(t=i[l].roles)||void 0===t?void 0:t.includes(s.UserRole.CREATOR))&&(n.creatorPeerId=+l),a&&d(+l)||y(r,i[l])&&n.membersCount++);return n};function b(){var e=o.GlobalStore.getCallsState(),t=e.devices,a=e.participants,i=e.me;return(0,l.objectReduce)(t,(function(e,t){if(+t.externalId.id===i)return e;if(t.status!==s.ParticipantStatus.CONNECTED)return e;if(d(t.externalId))return e;var r=a[t.externalId.id];return(T(r)||S(r))&&e.admins++,e.users++,e}),{users:0,admins:0})}function y(e,t){return t.peerId===e||V(t,(function(e){return!!e.status}))}function A(e){return T(e)||S(e)}function T(e){return!!(null==e?void 0:e.roles)&&e.roles.some((function(e){return e===s.UserRole.ADMIN}))}function S(e){return!!(null==e?void 0:e.roles)&&e.roles.some((function(e){return e===s.UserRole.CREATOR}))}function E(e){return!!e.roles&&(S(e)||T(e))}function M(e,t,a){var i,r=a?Object.keys(a).length:(0,l.objectReduce)(e,(function(e,t){var a,i;return t.status&&(null===(i=null===(a=t.statusData)||void 0===a?void 0:a.hand)||void 0===i?void 0:i.state)&&e++,e}),0);return(null===(i=t.statusData.hand)||void 0===i?void 0:i.state)?r+1:r}function D(e,t){void 0===t&&(t=!1);var a=f(e);return a?(0,s.removeParticipant)(a,t):Promise.resolve()}function U(e,t){if(!t)return!1;var a=null==e?void 0:e.peerId;return!!a&&(a===t.ownerId||!!t.adminIds&&t.adminIds.includes(a))}function w(e){return T(e)||S(e)}function k(e){return(0,n.isAuthedByGroupId)(e)?e.groupId:e.me}function N(e,t){var a=e.stream,i=e.screenSharingStream,r=e.movieStream,n=e.streamMode,l=e.mediaSettings,o=e.movieStreamInfo,u=!!i;if(null==t?void 0:t.onlyVideo)return{data:a,type:s.MediaType.CAMERA};switch(n){case s.MediaType.CAMERA:return l.isVideoEnabled?{data:a,type:n}:null;case s.MediaType.SCREEN:return u?{data:i,type:n}:null;case s.MediaType.STREAM:case s.MediaType.MOVIE:return o?{data:r,type:n}:null;default:return l.isVideoEnabled?{data:a,type:s.MediaType.CAMERA}:null}}function R(e,t){var a=e.stream,i=e.streamMode,r=e.mediaSettings,n=t&&i===s.MediaType.CAMERA,l=a&&r.isVideoEnabled;return!n&&l?{data:a,type:s.MediaType.CAMERA}:null}function P(e){var t;return!!(null===(t=e.mediaSettings)||void 0===t?void 0:t.isVideoEnabled)||function(e){var t;return!!(null===(t=e.mediaSettings)||void 0===t?void 0:t.isScreenSharingEnabled)&&!!e.screenSharingStream}(e)}function x(e){return!!e.movieStream&&!!e.movieStreamInfo}function I(e){var t=B(e.adminPinnedParticipant,e.movieSharingPinnedParticipant,e.screenSharingPinnedParticipant,e.pinnedParticipant,e.orator);if(t&&!j(e.externalId,t)){var a=e.devices[O(t)],i=e.participants[t.id];if(a&&i)return{device:a,participant:i,externalId:t}}return{device:e.localDevice,participant:e.participants[e.me],externalId:e.externalId}}function O(e){if(!e)throw new Error("externalId is null or undefined");var t=e.id;return"number"==typeof e.deviceIdx&&(t+=":d"+e.deviceIdx),t}var L=function(e,t){var a=0,i=null;for(var r in t)if(t.hasOwnProperty(r)){if(++a>1)break;var n=t[r];+n.externalId.id===e&&(i=n)}return i};function j(e,t){return!(!e||!t)&&(e.deviceIdx===t.deviceIdx&&e.id===t.id)}function B(){for(var e,t,a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];try{for(var n=(0,i.__values)(a),s=n.next();!s.done;s=n.next()){var l=s.value;if(null!=l)return l}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return null}function V(e,t){var a,r;if(!e)return!1;var n=o.GlobalStore.getCallsState(),s=n.maps.vkIdToDevices,l=n.devices,u=s.get(e.peerId);if(!u)return!1;try{for(var d=(0,i.__values)(u),c=d.next();!c.done;c=d.next()){var f=l[c.value];if(f&&(null==t?void 0:t(f)))return!0}}catch(e){a={error:e}}finally{try{c&&!c.done&&(r=d.return)&&r.call(d)}finally{if(a)throw a.error}}return!1}function F(){var e=o.GlobalStore.getCallsState(),t=e.devices,a=e.participantsChunk;if(a){var i=a.countBefore,r=a.countAfter;return 1+i+a.ids.length+r}var n=1;return(0,l.objectForEach)(t,(function(e){e.status&&n++})),n}function H(){return{deviceIdx:0,id:"0",type:s.ExternalIdType.USER}}var G=function(e){var t=I(e).device;return"externalId"in t?t:(0,i.__assign)((0,i.__assign)({},t),{externalId:e.externalId||H()})},W=function(){var e=o.GlobalStore.getCallsState(),t=e.devices,a=e.externalId,i=e.me,r=(null==a?void 0:a.id)||i.toString();return(0,l.objectSome)(t,(function(e){return e.externalId.id!==r}))};function z(e){var t,a;return e.hand?(0,i.__assign)((0,i.__assign)({},e),{hand:{state:(null===(t=null==e?void 0:e.hand)||void 0===t?void 0:t.state)===r.SdkHandType.RAISED,ts:null===(a=null==e?void 0:e.hand)||void 0===a?void 0:a.ts}}):e}function q(e,t,a,i,n){var s,o=(0,l.objectReduce)(e.screenSharers,(function(e,t){return t?e+1:e}),0),u=function(a,i){var n=function(e){t({type:r.E_ACTION.TOGGLE_ORATOR_MODE,isOratorMode:e})},s=function(e){t({type:r.E_ACTION.SET_PINNED_PARTICIPANT,pinnedParticipant:e})};a&&!e.isOratorMode&&n(!0),!a&&e.screenSharingNeedDisableOratorModeAfterStop&&n(!1),t({type:r.E_ACTION.SET_SCREEN_SHARING_PINNED_PARTICIPANT,screenSharingPinnedParticipant:i,screenSharingNeedDisableOratorModeAfterStop:!e.isOratorMode,screenSharingOldPinnedParticipant:e.pinnedParticipant}),i&&e.pinnedParticipant&&s(null),i||e.pinnedParticipant||!e.screenSharingOldPinnedParticipant||s(e.screenSharingOldPinnedParticipant)};0===o&&a?u(!0,i):1!==o||a||u(!(!e.adminPinnedParticipant&&!e.pinnedParticipant),null);var d=null===(s=e.devices[O(i)])||void 0===s?void 0:s.mediaSettings;!!(null==d?void 0:d.isScreenSharingEnabled)!==a&&t({type:r.E_ACTION.SET_SCREEN_SHARER,participantId:i,isScreenSharingEnabled:a}),a&&n&&t({type:r.E_ACTION.CALL_NOTIFICATION,notification:{type:r.NotificationType.SCREEN_SHARING_STARTED,data:i}})}function K(e,t){var a=O(t);return e.getState().devices[a]}function Y(e,t,a){if(!t)return e;var i=t.streamMode;switch(e){case s.MediaType.STREAM:case s.MediaType.MOVIE:return $(e,t,a);case s.MediaType.SCREEN:return i===s.MediaType.MOVIE||i===s.MediaType.STREAM?i:$(e,t,a);case s.MediaType.CAMERA:return i===s.MediaType.MOVIE||i===s.MediaType.STREAM||i===s.MediaType.SCREEN?i:$(e,t,a);default:return null}}function J(e){var t=[];return e.movieStreamInfo&&e.movieStream&&t.push(e.movieStreamInfo.source),e.mediaSettings.isScreenSharingEnabled&&e.screenSharingStream&&t.push(s.MediaType.SCREEN),e.mediaSettings.isVideoEnabled&&e.stream&&t.push(s.MediaType.CAMERA),t}function Z(e,t){return J(e).filter((function(e){return e!==t}))[0]||null}function $(e,t,a){return a?e:Z(t,e)}function Q(e,t,a){switch(void 0===a&&(a=t.mediaSettings),e){case s.MediaType.STREAM:case s.MediaType.MOVIE:return!(!t.movieStream||!t.movieStreamInfo);case s.MediaType.SCREEN:return!(!t.screenSharingStream||!a.isScreenSharingEnabled);case s.MediaType.CAMERA:return!(!t.stream||!a.isVideoEnabled);default:return!1}}function X(e,t){var a={mediaSettings:e};return t?(e.isVideoEnabled||t.streamMode!==s.MediaType.CAMERA||(a.streamMode=Y(s.MediaType.CAMERA,t,!1)),e.isScreenSharingEnabled||t.streamMode!==s.MediaType.SCREEN||(a.streamMode=Y(s.MediaType.SCREEN,t,!1)),a):a}},93385:(e,t,a)=>{"use strict";a.d(t,{normalizeUser:()=>o,normalizeGroup:()=>u,createFriendsCache:()=>d,mergeGroupToParticipant:()=>c,getExternalIdByUserId:()=>f,getMemberForUserStack:()=>p});var i=a(70655),r=a(78658),n=a(88822),s=a(15464),l=a(53996),o=function(e){var t,a=e.id,i=e.sex,l=e.first_name,o=e.last_name,u=e.screen_name,d=e.first_name_gen,c=e.name,f=e.photo_400,p=e.photo_200,_=e.can_call,m=e.online_info;return(0,s.isParticipantGroup)(+a)&&(l=(0,n.escape)(l)),u?t="/"+u:(0,s.isParticipantAnonym)(a)||(0,s.isParticipantGroup)(+a)||(t="/id"+a),{id:+a,peerId:+a,name:c||l+" "+o,firstName:l,shortName:(0,r.fetchUserShortName)(l,o,c),shortNameGen:(0,r.fetchUserShortName)(d,o,c),link:t,sex:i,canCall:_,photo:f||p,onlineInfo:m||null}},u=function(e){var t=e.id,a=e.name,i=e.screen_name,r=e.photo_400,s=e.photo_200,l=e.photo_100;return{id:-t,peerId:-t,name:(0,n.escape)(a),firstName:"",lastName:"",shortName:"",shortNameGen:"",link:i&&"/"+i,photo:r||s||l,photo_100:l}};function d(e){return e.reduce((function(e,t){return e[t.id]=!0,e}),{})}function c(e,t){var a=(0,i.__assign)({},t);return e.photo&&(a.photo=e.photo),e.name&&(a.name=e.name),e.link&&(a.link=e.link),a}function f(e){var t=l.ExternalIdType.USER;return(0,s.isParticipantGroup)(e)&&(t=l.ExternalIdType.GROUP),{id:e.toString(),type:t}}function p(e){var t=e.name||"";return e.photo?{src:e.photo,alt:t,key:e.peerId}:{id:e.peerId,text:t.slice(0,1)}}},87080:(e,t,a)=>{"use strict";var i,r,n;a.d(t,{HistoryScreenSections:()=>i,HistoryScreenActionTypes:()=>r,EHistoryScreenPopup:()=>n}),function(e){e.ALL="",e.MISS="missed",e.FRIENDS="friends",e.CURRENT="current",e.SCHEDULED="scheduled",e.HISTORY="history"}(i||(i={})),function(e){e.DELETE_CALL="DELETE_CALL",e.SET_CURRENT_CALLS="SET_CURRENT_CALLS",e.SET_HISTORY_CALLS="SET_HISTORY_CALLS",e.SET_PROFILES="SET_PROFILES",e.SET_URLS="SET_URLS",e.ERROR="ERROR",e.SET_LOADING="SET_LOADING",e.SET_SHOW_CREATE_BUTTON="SET_SHOW_CREATE_BUTTON",e.SET_SCHEDULED_CALLS_PREVIEW="SET_SCHEDULED_CALLS_PREVIEW",e.SET_SCHEDULED_CALLS="SET_SCHEDULED_CALLS",e.SET_POPUP="SET_POPUP",e.SET_SCHEDULED_EDITABLE_CALL="set_scheduled_editable_call",e.SET_CALLS_QUEUE_RESPONSE="set_calls_queue_response"}(r||(r={})),function(e){e.EditCalendarEvent="popup_edit_calendar_event",e.DeleteCalendarEvent="popup_delete_calendar_event",e.RescheduleCalendarEvent="popup_reschedule_calendar_event"}(n||(n={}))},21333:(e,t,a)=>{"use strict";a.d(t,{useFetchData:()=>s});var i=a(70655),r=a(67294),n=a(23326),s=function(e){var t=e.cb,a=e.initialLoading,s=(0,i.__read)((0,r.useState)(!!a),2),l=s[0],o=s[1],u=(0,i.__read)((0,r.useState)(null),2),d=u[0],c=u[1],f=(0,n.useIsMounted)(),p=(0,r.useCallback)((function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return o(!0),c(null),t.apply(void 0,(0,i.__spreadArray)([],(0,i.__read)(e),!1)).catch((function(e){throw c(e),e})).finally((function(){f()&&o(!1)}))}),[t]);return{fetchData:p,loading:l,error:d}}},22835:(e,t,a)=>{"use strict";a.d(t,{useFormCheckboxesValues:()=>s});var i=a(70655),r=a(67294),n=a(78658),s=function(e){var t=void 0===e?{}:e,a=t.name,s=t.initialValue,l=(0,i.__read)((0,r.useState)((function(){return!!(0,n.getCallable)(s)})),2),o=l[0],u=l[1],d=(0,r.useCallback)((function(e,t){u(t)}),[]);return{name:a,checked:o,onChange:d}}},65391:(e,t,a)=>{"use strict";a.d(t,{useChosenDateText:()=>o,getDateProxy:()=>u});a(70655);var i=a(67294),r=a(72629),n=a(59247),s=a(25685),l=(a(78658),new Intl.NumberFormat("ru-RU",{minimumIntegerDigits:2})),o=function(){var e=(0,n.useLocale)().locale,t=(0,s.useLang)().getLang,a=(0,i.useMemo)((function(){var t="ru"===e?"ru-RU":"en-US";return{DMMMM:new Intl.DateTimeFormat(t,{day:"2-digit",month:"long"}),YYYY:new Intl.DateTimeFormat("en-US",{year:"numeric"})}}),[e]);return{getChosenDateText:(0,i.useCallback)((function(e,i,n){void 0===n&&(n=!1);var s=new Date,o=t("calls_today");if(s.getFullYear()!==e.getFullYear()?(o=a.DMMMM.format(e),o+=" "+a.YYYY.format(e)):(0,r.isSameDate)(s,e)||(o=a.DMMMM.format(e)),n)return o;var u=l.format(i.hours),d=l.format(i.minutes);return t("calls_date_in_time").replace("{date}",o).replace("{time}",u+":"+d)}),[a,t])}};function u(e){var t=void 0===e?{}:e,a=t.passedDate,i=t.passedTime,r=t.roundToNearestMinutes,n=new Date(a||Date.now());if(i&&(n.setHours(i.hours),n.setMinutes(i.minutes)),r){var s=6e4*r;n=new Date(Math.ceil(n.getTime()/s)*s)}return n}},95418:(e,t,a)=>{"use strict";a.d(t,{useFormSelectValue:()=>s});var i=a(70655),r=a(67294),n=a(25685),s=function(e){var t,a=e.initialValue,s=e.options,l=e.onChange,o=(0,n.useLang)().getLang,u=(0,i.__read)((0,r.useState)(a||(null===(t=s[0])||void 0===t?void 0:t.value)),2),d=u[0],c=u[1],f=(0,r.useCallback)((function(e){var t=e.selected.value;c(t),null==l||l(t)}),[]),p=(0,r.useMemo)((function(){var e=s.find((function(e){return e.value===d}));return e?e.label:""}),[d,s]);return{value:d,onChange:f,options:s,label:p,searchPlaceholder:o("calls_search_empty_list")}}},23326:(e,t,a)=>{"use strict";a.d(t,{useIsMounted:()=>r});var i=a(67294),r=function(){var e=(0,i.useRef)(!0),t=(0,i.useCallback)((function(){return e.current}),[]);return(0,i.useEffect)((function(){return function(){e.current=!1}}),[]),t}},25685:(e,t,a)=>{"use strict";a.d(t,{useLang:()=>n});var i=a(67294),r=a(71192),n=function(){return(0,i.useContext)(r.LangContext)}},59247:(e,t,a)=>{"use strict";a.d(t,{useLocale:()=>i});var i=function(){var e;return{locale:(null===(e=window.langConfig)||void 0===e?void 0:e.locale)||"ru"}}},209:(e,t,a)=>{"use strict";a.d(t,{useNotifier:()=>s});var i=a(70655),r=a(67294),n=a(78658),s=function(){var e=(0,r.useCallback)((function(){for(var e,t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var r=(null===(e=null===window||void 0===window?void 0:window.Notifier)||void 0===e?void 0:e.showEvent)||n.noop;return r((0,i.__assign)((0,i.__assign)({},t[0]),{type:"calls-standalone"}),t[1])}),[]);return{showErrorMessage:e,showText:(0,r.useCallback)((function(e){var t;return((null===(t=null===window||void 0===window?void 0:window.Notifier)||void 0===t?void 0:t.showEvent)||n.noop)({type:"calls-standalone--text",text:e})}),[])}}},84356:(e,t,a)=>{"use strict";a.d(t,{usePromiseError:()=>l});var i=a(67294),r=a(209),n=a(25685),s=a(71154),l=function(){var e=(0,r.useNotifier)().showErrorMessage,t=(0,n.useLang)().getLang;return{handleError:(0,i.useCallback)((function(a){var i;switch(null===(i=a.error)||void 0===i?void 0:i.error_msg){case"Invalid request: Invalid name":e({title:t("calls_error_invalid_name_title"),text:t("calls_error_invalid_name_desc")});break;case"Flood control":e({title:t("calls_error_flood_control_title"),text:t("calls_error_flood_control_desc")});break;case"Internal server error":e({title:t("calls_error_internal_title"),text:t("calls_error_internal_desc")});break;case"Invalid request: Invalid time":case"Invalid request: Call already ended":e({title:t("calls_error_invalid_time_title"),text:t("calls_error_invalid_time_desc")});break;case"Invalid request: Invalid duration":e({title:t("calls_error_invalid_time_title"),text:t("calls_error_invalid_duration_desc")});break;case"Invalid request: Invalid recurrence times":case"Invalid request: Invalid recurrence time params":e({title:t("calls_error_invalid_recurrence_times_title"),text:t("calls_error_invalid_recurrence_times_desc")});break;default:(0,s.handlePromiseError)(a)}}),[t,e])}}},99939:(e,t,a)=>{"use strict";a.d(t,{useSendStatsData:()=>u,ECallActionEventType:()=>o.CallActionEventType});var i=a(70655),r=a(67294),n=a(35886),s=a(67921),l=a(73294),o=a(63035),u=function(){var e=(0,n.useSelector)((function(e){var t;return null===(t=e.callData)||void 0===t?void 0:t.callId})),t=(0,n.useSelector)((function(e){return e.peer})),a=(0,r.useMemo)((function(){return(0,s.isGroupCallByPeer)(t)}),[t]);return{sendStatsData:(0,r.useCallback)((function(r,n){void 0===n&&(n={}),l.callStats.logEvent((0,i.__assign)({call_event_type:r,session_id:e,peer_id:t,is_group_call:a},n))}),[e,t,a])}}},86969:(e,t,a)=>{"use strict";a.d(t,{useSendStatsDataCallScheduled:()=>l,mapSharingChannel:()=>o});var i=a(70655),r=a(99939),n=a(73294),s=a(82659),l=function(){return{sendCallScheduled:function(e){var t,a,s=e.creatorId,l=e.sharingChannel,u=e.isEdit?r.ECallActionEventType.SCHEDULED_CALL_EDITED:r.ECallActionEventType.CALL_SCHEDULED;t=u,a={sharing_channel:o(l),peer_id:s||0},n.callStats.logEvent((0,i.__assign)({call_event_type:t,is_group_call:!1},a))}}};function o(e){switch(e){case s.ECalendar.Google:return"calendar_google";case s.ECalendar.Other:return"other";case s.ECalendar.Outlook:return"calendar_outlook";case s.ECalendar.iCloud:return"calendar_icloud"}}},17179:(e,t,a)=>{"use strict";a.d(t,{GlobalStore:()=>i});var i=function(){function e(){}return e.setCallsStore=function(t){e._callsStore=t},e.getCallsStore=function(){if(!e._callsStore)throw new Error("store was not initiated!");return e._callsStore},e.isSet=function(){return Boolean(e._callsStore)},e.getCallsState=function(){return e.getCallsStore().getState()},e._callsStore=null,e}()},71618:(e,t,a)=>{"use strict";a.d(t,{baseUserFields:()=>d,fetchCallsQueue:()=>G,fetchUrl:()=>z,forceCallFinish:()=>T,friendsSearch:()=>Q,getAnonymCallToken:()=>E,getCallAuthToken:()=>C,getCallParticipants:()=>M,getCallParticipantsApiCall:()=>V,getCallUrlLink:()=>b,getCallsHistory:()=>q,getConversationsByCall:()=>S,getCurrentCalls:()=>H,getFriends:()=>$,getGroupById:()=>U,getGroupMembers:()=>j,getGroupsForCall:()=>L,getGroupsForStreaming:()=>F,getJoinLinkDetails:()=>y,getSearchVideo:()=>oe,getUpcomingLives:()=>w,getVideos:()=>k,getWatchTogetherOwnerVideos:()=>le,getWatchTogetherRecommended:()=>se,loadCallPeers:()=>p,loadCallPeersByPeerIds:()=>f,loadChatMembers:()=>g,loadFriends:()=>A,loadPrivacySettings:()=>O,loadUsers:()=>R,logCallReceived:()=>P,makeCallsQueueUrl:()=>W,messagesDeleteScheduledCall:()=>re,messagesEditCall:()=>ne,messagesGetConversations:()=>X,messagesGetScheduledCalls:()=>ie,messagesSearch:()=>ae,messagesSend:()=>ee,messagesStartCall:()=>te,photosDelete:()=>Z,photosGetAllImages:()=>K,photosSaveBackgroundPhoto:()=>J,retryLoadCallPeers:()=>v,searchCallParticipants:()=>de,searchGroupMembers:()=>B,sendVideoEdit:()=>N,stopVideoStream:()=>I,videoGet:()=>ue,videoLiveGetSpectators:()=>x,videoStartStreaming:()=>D});var i=a(70655),r=a(41441),n=a(78658),s=a(40182),l=a(53996),o=a(59397),u=["photo_200","sex","screen_name","first_name_gen"].join(","),d=["photo_200","sex","screen_name","first_name_gen"].join(","),c=["name","photo_100","photo_200","can_upload_video"].join(","),f=function(e){return(0,s.getApiWrapper)()()("messages.getConversationsById",{peer_ids:e,extended:1,fields:d})},p=function(e){return(0,s.getApiWrapper)()()("messages.getConversationsById",{peer_ids:[e],extended:1,fields:d})},_=0,m=[],h=[],v=(0,n.exponentialRetry)((function(e,t){return void 0===t&&(t=50),m.push(e),new Promise((function(e){h.push(e),_||(_=window.setTimeout((function(){f(m).then((function(e){h.forEach((function(t){t(e)})),h=[]})),m=[],_=0}),t))}))})),g=function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"messages.getConversationMembers",data:{peerId:e}}),(0,s.getApiWrapper)()()("messages.getConversationMembers",{peer_id:e,fields:u.concat(",can_call")}).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"messages.getConversationMembers",data:e}),e}))},C=function(e,t){return void 0===t&&(t=0),(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"messages.getCallToken",data:{isDev:e,groupId:t}}),(0,s.getApiWrapper)()()("messages.getCallToken",{env:e?"development":"production",group_id:t},{version:r.API_VERSION}).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"messages.getCallToken",data:e}),e}))},b=((0,n.exponentialRetry)(C),function(e,t,a){void 0===a&&(a=0);var i={call_id:e,invalidate:t?1:0,group_id:a};return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"messages.getJoinLink",data:i}),(0,s.getApiWrapper)()()("messages.getJoinLink",i).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"messages.getJoinLink",data:e}),e}))}),y=function(e,t){return void 0===t&&(t=!1),(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"messages.getCallPreview",data:{link:e,fields:d,device_id:"anyId"}}),(0,s.getApiWrapper)(!t)()("messages.getCallPreview",{link:e,fields:d,device_id:"anyId"}).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"messages.getCallPreview",data:e}),e}))},A=function(){var e={fields:u.concat(",can_call"),filters:"without_dead",order:"hints"};return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"friends.get",data:e}),(0,s.getApiWrapper)()()("friends.get",e).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"friends.get",data:e}),e}))},T=function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"messages.forceCallFinish",data:{call_id:e}}),(0,s.getApiWrapper)()()("messages.forceCallFinish",{call_id:e}).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"messages.forceCallFinish",data:e}),e}))},S=function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"messages.getConversationsByCall",data:{call_ids:e,fields:d}}),(0,s.getApiWrapper)()()("messages.getConversationsByCall",{call_ids:e,fields:d}).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"messages.getConversationsByCall",data:e}),e}))},E=function(e,t,a,i){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"messages.getAnonymCallToken",data:{link:e,user_id:t,name:a,secret:i,device_id:"anyId"}}),(0,s.getApiWrapper)(!1)()("messages.getAnonymCallToken",{link:e,user_id:t,name:a,secret:i,device_id:"anyId"}).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"messages.getAnonymCallToken",data:e}),e}))},M=function(e,t,a,i,l){void 0===i&&(i=!1);for(var o=[],u=Array.from(new Set(t));u.length;)u.length>1e3?(o.push(u.slice(0,1e3)),u=u.slice(1e3)):(o.push(u),u=[]);var c=(0,n.exponentialRetry)((function(t,n){var l=i?{call_id:e,peer_ids:n.join(","),fields:d,device_id:"anyId",secret:t.secret,user_id:a}:{call_id:e,peer_ids:n.join(","),fields:d};return(0,s.getApiWrapper)(!i)()("messages.getCallParticipants",l,{version:r.API_VERSION}).then((function(e){return{count:e.count+t.count,secret:e.secret,profiles:(t.profiles||[]).concat(e.profiles||[]),anonyms:(t.anonyms||[]).concat(e.anonyms||[]),groups:(t.groups||[]).concat(e.groups||[])}}))})),f=Promise.resolve({secret:l,count:0});return o.reduce((function(e,t){return e.then((function(e){return c(e,t)}))}),f)},D=function(e){return(0,s.getApiWrapper)()()("video.startStreaming",e)},U=function(e){return(0,s.getApiWrapper)()()("groups.getById",{group_id:e,fields:c},{version:r.API_VERSION})},w=function(e){return(0,s.getApiWrapper)()()("video.getUpcomingLives",{owner_ids:e})},k=function(e,t,a){return(0,s.getApiWrapper)()()("video.get",{owner_id:e,videos:t,need_privacy:a})},N=function(e,t,a,i,r){return(0,s.getApiWrapper)()()("video.edit",{owner_id:e,video_id:t,name:a,desc:i,privacy_view:r})},R=function(e){return(0,s.getApiWrapper)()()("users.get",e)},P=function(e){return(0,s.getApiWrapper)()()("messages.callReceived",{call_id:e})},x=function(e){return(0,s.getApiWrapper)()()("video.liveGetSpectators",{owner_id:e.owner_id,video_id:e.video_id})},I=function(){return(0,l.stopStream)()},O=function(e){return(0,s.getApiWrapper)()()("account.getPrivacySettings",e)},L=function(){return(0,s.getApiWrapper)()()("messages.getGroupsForCall",{count:200})},j=function(e,t,a){void 0===t&&(t=0),void 0===a&&(a=10);var i={fields:u.concat(",can_call_from_group"),group_id:e,offset:t,count:a,sort:"time_asc"};return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"groups.getMembers",params:i}),(0,s.getApiWrapper)()()("groups.getMembers",i).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"groups.getMembers",data:e}),e}))},B=function(e,t){return void 0===t&&(t=""),(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"users.search",data:{groupId:e,q:t}}),(0,s.getApiWrapper)()()("users.search",{fields:u.concat(",can_call_from_group"),group_id:e,q:t}).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"users.search",data:e}),e}))};function V(e,t,a,n,o){void 0===a&&(a=!1),void 0===n&&(n=""),void 0===o&&(o=0);var u={call_id:e,peer_ids:t.join(","),fields:d};return a&&(u=(0,i.__assign)((0,i.__assign)({},u),{device_id:"anyId",secret:n,user_id:o})),(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"messages.getCallParticipants",data:u}),(0,s.getApiWrapper)(!a)()("messages.getCallParticipants",u,{version:r.API_VERSION}).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"messages.getCallParticipant",response:e}),e}))}function F(){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"video.getGroupsForStreaming"}),(0,s.getApiWrapper)()()("video.getGroupsForStreaming",{}).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"video.getGroupsForStreaming",response:e}),e}))}function H(e){void 0===e&&(e=u);var t={fields:e};return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"messages.getCurrentCalls",data:t}),(0,s.getApiWrapper)()()("messages.getCurrentCalls",t).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"messages.getCurrentCalls",response:e}),e}))}function G(e){var t={queue_ids:"calls_"+e};return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"queue.subscribe",data:t}),(0,s.getApiWrapper)()()("queue.subscribe",t).then((function(t){(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"queue.subscribe",response:t});var a=t.base_url,i=t.queues[0];return{baseUrl:a,key:i.key,timestamp:i.timestamp,userId:e}}))}function W(e){return e.baseUrl+"?act=a_check&key="+e.key+"&id="+e.userId+"&ts="+e.timestamp+"&wait=20"}function z(e){return fetch(e).then((function(e){return e.json()}))}function q(e,t,a,i){void 0===e&&(e=5),void 0===t&&(t=0),void 0===a&&(a=0),void 0===i&&(i="all");var r={count:e,start_from:t,fields:u+",last_name_gen",filter:i,group_id:a};return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"messages.getCallHistory",data:r}),(0,s.getApiWrapper)()()("messages.getCallHistory",r).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"messages.getCallHistory",response:e}),e}))}var K=function(e){void 0===e&&(e={});var t=(0,s.getApiWrapper)(!0)();return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"photos.get",params:e}),t("photos.get",(0,i.__assign)({album_id:"-166"},e)).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"photos.get",response:e}),e}))},Y=function(e){return["error_msg","error_code"].some((function(t){return function(e,t){if((0,o.isString)(e)||(0,o.isArray)(e))for(var a=(0,o.isArray)(e)?e:e.split(".").filter(Boolean),i=a.length-1,r=t,n=0;n<a.length;n+=1){if(!(0,o.isObjectLike)(r))return;var s=r[a[n]];if(!s)return;if(n===i)return s;r=s}}(t,e)}))?Promise.reject(e):Promise.resolve(e)},J=function(e){var t=(0,s.getApiWrapper)(!0)(),a=(0,s.getApiWrapper)(!0)();return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"photos.getCallBackgroundsPhotoUploadServer"}),t("photos.getCallBackgroundsPhotoUploadServer",{}).then(Y).then((function(t){(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"photos.getCallBackgroundsPhotoUploadServer",response:t});var a=new FormData;return a.append("file1",e,e.name),(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"[photoUploadUrl] "+t.upload_url,formData:a}),fetch(t.upload_url,{method:"POST",body:a}).then((function(e){return e.json()})).then(Y)})).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"[photoUploadUrl]",json:e}),(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"photos.saveBackgroundPhoto",json:e}),a("photos.saveBackgroundPhoto",{response_json:JSON.stringify(e)})})).then(Y)},Z=function(e){var t=(0,s.getApiWrapper)(!0)();return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"photos.delete",params:e}),t("photos.delete",e).then(Y)},$=function(e,t,a){void 0===e&&(e=10),void 0===t&&(t=0),void 0===a&&(a="hints");var i={fields:u.concat(",can_call,online_info"),count:e,offset:t,order:a,filters:"without_dead"};return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"friends.get",data:i}),(0,s.getApiWrapper)()()("friends.get",i).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"friends.get",data:e}),e}))},Q=function(e,t,a,i){void 0===t&&(t=""),void 0===a&&(a=10),void 0===i&&(i=0);var r={user_id:e,q:t,fields:u.concat(",can_call,online_info,photo_50"),count:a,offset:i};return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"friends.search",data:r}),(0,s.getApiWrapper)()()("friends.search",r).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"friends.search",data:e}),e}))},X=function(e){return void 0===e&&(e={extended:1,count:30}),(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"messages.getConversations",data:e}),(0,s.getApiWrapper)()()("messages.getConversations",e).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"messages.getConversations",data:e}),e}))},ee=function(e){return void 0===e&&(e={}),(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"messages.send",data:e}),(0,s.getApiWrapper)()()("messages.send",e).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"messages.send",data:e}),e}))},te=function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"messages.startCall",data:e}),(0,s.getApiWrapper)()()("messages.startCall",e).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"messages.startCall",data:e}),e}))},ae=function(e){void 0===e&&(e={});var t=(0,i.__assign)({count:20,extended:1},e);return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"messages.search",data:t}),(0,s.getApiWrapper)()()("messages.search",t).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"messages.search",data:e}),e}))},ie=function(e){return void 0===e&&(e={}),(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"messages.getScheduledCalls",data:e}),(0,s.getApiWrapper)()()("messages.getScheduledCalls",e).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"messages.getScheduledCalls",data:e}),e}))},re=function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"messages.deleteScheduledCall",data:e}),(0,s.getApiWrapper)()()("messages.deleteScheduledCall",e).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"messages.deleteScheduledCall",data:e}),e}))},ne=function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"messages.editCall",data:e}),(0,s.getApiWrapper)()()("messages.editCall",e).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"messages.editCall",data:e}),e}))},se=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"video.getWatchTogetherRecommendedVideos",params:e}),(0,s.getApiWrapper)()()("video.getWatchTogetherRecommendedVideos",e,{},t).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"video.getWatchTogetherRecommendedVideos",data:e}),e})).then(Y)},le=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"video.getWatchTogetherOwnerVideos",params:e}),(0,s.getApiWrapper)()()("video.getWatchTogetherOwnerVideos",e,{},t).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"video.getWatchTogetherOwnerVideos",data:e}),e})).then(Y)},oe=function(e,t){return void 0===e&&(e={}),e.united_video_only=1,e.extended=1,(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"video.search",params:e}),(0,s.getApiWrapper)()()("video.search",e,{version:"5.167"},t).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"video.search",data:e}),e})).then(Y)},ue=function(e,t){var a=(0,i.__assign)({extended:1},e);return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"request",method:"video.get",data:a}),(0,s.getApiWrapper)()()("video.get",a,void 0,t).then((function(e){return(0,l.debugMessage)(l.DebugMessageType.DEBUG,{type:"response",method:"video.get",data:e}),e}))},de=function(e,t,a){var n=t.userId,l=t.isAnon,o=void 0!==l&&l,u=t.secret,c=t.search,f={call_id:e,fields:d,search:c},p=o?(0,i.__assign)((0,i.__assign)({},f),{device_id:"anyId",secret:u,user_id:n}):f;return(0,s.getApiWrapper)(!o)()("messages.getCallParticipants",p,{version:r.API_VERSION},a).then((function(e){return{count:e.count,secret:e.secret,profiles:e.profiles||[],anonyms:e.anonyms||[],groups:e.groups||[]}}))}},68891:(e,t,a)=>{"use strict";a.d(t,{CallsLongpoll:()=>o});var i,r=a(70655),n=a(71618),s=a(74351),l=a(53996);!function(e){e.ScheduledCallsUpdate="scheduled_calls_update",e.CurrentCallsUpdate="current_calls_update",e.CallFinished="call_finished"}(i||(i={}));var o=function(){function e(e,t,a){this.userId=e,this.onResponse=t,this.retryCount=0,this.urlData=null,this.apiQueueSubscribe=a||n.fetchCallsQueue}return e.prototype.init=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.apiQueueSubscribe(this.userId)];case 1:return e=a.sent(),this.urlData=e,[3,3];case 2:return t=a.sent(),(0,l.debugMessage)(l.DebugMessageType.ERROR,{type:"request",method:"queue.subscribe",error:t,text:"could not subscribe to Calls event queue"}),[3,3];case 3:return[2]}}))}))},e.prototype.wait=function(){return(0,r.__awaiter)(this,void 0,Promise,(function(){var e,t,a;return(0,r.__generator)(this,(function(i){switch(i.label){case 0:if(this.closed)return[2];i.label=1;case 1:return i.trys.push([1,5,7,8]),this.urlData?[3,3]:[4,this.init()];case 2:i.sent(),i.label=3;case 3:if(!this.urlData)throw new Error("no urlData!");return e=(0,n.makeCallsQueueUrl)(this.urlData),[4,this.fetchCallsLongpoll(e)];case 4:return t=i.sent(),this.closed||this.onResponse(t),this.urlData=(0,r.__assign)((0,r.__assign)({},this.urlData),{timestamp:t.ts}),[3,8];case 5:return i.sent(),(a=this.retryCount)>100?[2]:[4,(0,s.pause)(a*a,null)];case 6:return i.sent(),this.retryCount+=1,this.urlData=null,[3,8];case 7:return this.wait(),[7];case 8:return[2]}}))}))},e.prototype.fetchCallsLongpoll=function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t=this;return(0,r.__generator)(this,(function(a){return[2,(0,n.fetchUrl)(e).then((function(a){var i;if((null==a?void 0:a.error)||(null==a?void 0:a.failed))throw(0,l.debugMessage)(l.DebugMessageType.ERROR,{type:"response.(error|failed)",method:e,data:{error:null==a?void 0:a.error,failed:null==a?void 0:a.failed}}),new Error("re-init subscription");if((null==a?void 0:a.ts)===(null===(i=t.urlData)||void 0===i?void 0:i.timestamp))throw(0,l.debugMessage)(l.DebugMessageType.ERROR,{type:"response.ts",method:e,data:a}),new Error("re-init subscription");return a}))]}))}))},e.prototype.destroy=function(){this.closed=!0},e}()},73294:(e,t,a)=>{"use strict";a.d(t,{callStats:()=>s});var i=a(70655),r=a(15464),n="type_voip_call_item",s=new(function(){function e(){this.eventCommonData={}}return e.prototype.setActionStatCollector=function(e){this.actionStatCollector=e},e.prototype.setEventCommonData=function(e){void 0===e&&(e={}),this.eventCommonData=e},e.prototype.logEvent=function(e){var t,a=e.peer_id,s=(0,r.isParticipantGroup)(a)?a:0,l=(0,i.__assign)((0,i.__assign)((0,i.__assign)({},e),{peer_id:e.peer_id.toString(),session_id:e.session_id||"",lib_version:"calls_v2",group_id:s}),this.eventCommonData);this.actionStatCollector&&this.actionStatCollector.logEvent(((t={type:n}).type_voip_call_item=l,t))},e}())},62090:(e,t,a)=>{"use strict";a.d(t,{EMailRuGoals:()=>i,EOS:()=>n,mailRuCounter:()=>d,useMailRuCounter:()=>c});var i,r,n,s=a(70655),l=a(67294),o=a(78658);!function(e){e.StartP2PCall="start_p2p_call",e.StartGroupCall="start_group_call",e.AcceptCall="accept_call",e.JoinCall="join_call",e.ScheduledCall="scheduled_call",e.DownloadAppLend="download_app_lend",e.DownloadAppJoinDeeplink="download_app_join_deeplink"}(i||(i={})),function(e){e.VkCom="2579437",e.CallsVkCom="3252492"}(r||(r={})),function(e){e.Windows="windows",e.Linux="linux",e.Mac="mac"}(n||(n={}));var u=function(){function e(){this.events=[]}return e.prototype.push=function(e,t){var a,n,l=window._tmr||this.events,u={id:(0,o.hasIn)(window.location.hostname,"calls.vk.com","calls.vk.ru")||(0,o.hasIn)(window.location.pathname,"/calls-standalone")?r.CallsVkCom:r.VkCom,type:"reachGoal",goal:e,userid:String((null===(a=window.vk)||void 0===a?void 0:a.id)||0)};if(t&&(u.params=t),e===i.JoinCall){var d=(null===(n=window.vk)||void 0===n?void 0:n.id)?1:0;u.params=(0,s.__assign)((0,s.__assign)({},u.params||{}),{login:d})}l.push(u)},e}(),d=new u,c=function(){var e,t,a;return{mailRuCounter:(e=function(){return new u},t=(0,l.useRef)(!1),a=(0,l.useRef)(),t.current||a.current||(a.current=(0,o.getCallable)(e),t.current=!0),a).current}}},23570:(e,t,a)=>{var i,r,n=a(85217),s=a(45327),l=0,o=0;e.exports=function(e,t,a){var u=t&&a||0,d=t||[],c=(e=e||{}).node||i,f=void 0!==e.clockseq?e.clockseq:r;if(null==c||null==f){var p=n();null==c&&(c=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=r=16383&(p[6]<<8|p[7]))}var _=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:o+1,h=_-l+(m-o)/1e4;if(h<0&&void 0===e.clockseq&&(f=f+1&16383),(h<0||_>l)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=_,o=m,r=f;var v=(1e4*(268435455&(_+=122192928e5))+m)%4294967296;d[u++]=v>>>24&255,d[u++]=v>>>16&255,d[u++]=v>>>8&255,d[u++]=255&v;var g=_/4294967296*1e4&268435455;d[u++]=g>>>8&255,d[u++]=255&g,d[u++]=g>>>24&15|16,d[u++]=g>>>16&255,d[u++]=f>>>8|128,d[u++]=255&f;for(var C=0;C<6;++C)d[u+C]=c[C];return t||s(d)}}}]);try{stManager.done("dist/3ae78002d05d100ea57d5ee29ec63b89.028facf2b40378ee597c.js")}catch(e){}